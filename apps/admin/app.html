<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>通知運用ダッシュボード（Linear UI）</title>
    <link rel="stylesheet" href="/admin/assets/admin.css" />
  </head>
  <body class="app-body">
    <div id="app-shell" class="app-shell" data-role="operator">
      <aside class="app-nav">
        <div class="nav-title" data-dict-key="ui.label.nav.title">運用ナビ</div>

        <div class="nav-group nav-group-dashboard" data-nav-group="dashboard" data-nav-surface="primary">
          <div class="nav-group-label nav-group-label-dashboard" data-dict-key="ui.label.nav.group.dashboard">ダッシュボード</div>
          <button class="nav-item is-active" data-pane-target="home" data-nav-priority="100">
            <span class="nav-icon" aria-hidden="true">D</span>
            <span data-dict-key="ui.label.nav.dashboard">ダッシュボード</span>
          </button>
        </div>

        <div class="nav-group nav-group-notifications" data-nav-group="notifications" data-nav-surface="primary">
          <div class="nav-group-label" data-dict-key="ui.label.nav.group.notifications">通知</div>
          <button class="nav-item" data-pane-target="composer" data-scroll-target="composer-inputs" data-nav-priority="96">
            <span class="nav-icon" aria-hidden="true">N</span>
            <span data-dict-key="ui.label.nav.notifyCreate">作成</span>
          </button>
          <button class="nav-item" data-pane-target="composer" data-scroll-target="composer-saved-panel" data-nav-priority="95">
            <span class="nav-icon" aria-hidden="true">L</span>
            <span data-dict-key="ui.label.nav.notifyList">一覧</span>
          </button>
        </div>

        <div class="nav-group nav-group-users" data-nav-group="users" data-nav-surface="primary">
          <div class="nav-group-label" data-dict-key="ui.label.nav.group.users">ユーザー</div>
          <button class="nav-item" data-pane-target="monitor" data-scroll-target="monitor-user-search" data-nav-priority="92">
            <span class="nav-icon" aria-hidden="true">U</span>
            <span data-dict-key="ui.label.nav.usersSearch">検索</span>
          </button>
          <button class="nav-item" data-pane-target="read-model" data-nav-priority="91">
            <span class="nav-icon" aria-hidden="true">S</span>
            <span data-dict-key="ui.label.nav.usersStatus">状態一覧</span>
          </button>
        </div>

        <div class="nav-group nav-group-communication" data-nav-group="communication" data-nav-surface="hidden" data-nav-rollout="admin,developer">
          <div class="nav-group-label" data-dict-key="ui.label.nav.group.communication">コミュニケーション</div>
          <button class="nav-item" data-pane-target="audit" data-nav-priority="45">
            <span class="nav-icon" aria-hidden="true">F</span>
            <span data-dict-key="ui.label.nav.faqHistory">FAQ履歴</span>
          </button>
          <button class="nav-item" data-pane-target="llm" data-role="admin" data-role-allow="admin,developer" data-nav-priority="44">
            <span class="nav-icon" aria-hidden="true">K</span>
            <span data-dict-key="ui.label.nav.faqKnowledge">FAQナレッジ管理</span>
          </button>
        </div>

        <div class="nav-group nav-group-catalog" data-nav-group="catalog" data-nav-surface="primary">
          <button class="nav-item" data-pane-target="city-pack" data-nav-priority="88">
            <span class="nav-icon" aria-hidden="true">CP</span>
            <span data-dict-key="ui.label.nav.cityPackManage">City Pack管理</span>
          </button>
          <button class="nav-item" data-pane-target="vendors" data-nav-priority="87">
            <span class="nav-icon" aria-hidden="true">V</span>
            <span data-dict-key="ui.label.nav.vendorManage">ベンダー管理</span>
          </button>
          <button id="nav-open-settings" class="nav-item" data-pane-target="settings" data-nav-priority="86">
            <span class="nav-icon" aria-hidden="true">S</span>
            <span data-dict-key="ui.label.nav.settings">設定</span>
          </button>
        </div>

        <div class="nav-group nav-group-developer" data-nav-group="developer" data-nav-surface="secondary" data-role="developer">
          <div class="nav-group-label" data-dict-key="ui.label.developer.menu">開発者</div>
          <button id="developer-open-map" type="button" class="nav-item">
            <span class="nav-icon" aria-hidden="true">RM</span>
            <span data-dict-key="ui.label.developer.repoMap">Repo Map（全体像）</span>
          </button>
          <button id="developer-open-system" type="button" class="nav-item">
            <span class="nav-icon" aria-hidden="true">S</span>
            <span data-dict-key="ui.label.developer.systemState">システム状態</span>
          </button>
          <button id="developer-open-audit" type="button" class="nav-item">
            <span class="nav-icon" aria-hidden="true">A</span>
            <span data-dict-key="ui.label.developer.audit">監査ログ</span>
          </button>
          <button id="developer-open-implementation" type="button" class="nav-item">
            <span class="nav-icon" aria-hidden="true">I</span>
            <span data-dict-key="ui.label.developer.implementation">実装状況</span>
          </button>
          <button id="developer-open-legacy" type="button" class="nav-item">
            <span class="nav-icon" aria-hidden="true">L</span>
            <span data-dict-key="ui.label.developer.legacyStatus">LEGACY導線</span>
          </button>
          <button id="developer-open-manual-redac" type="button" class="nav-item">
            <span class="nav-icon" aria-hidden="true">R</span>
            <span data-dict-key="ui.label.developer.manualRedac">取説（Redac）</span>
          </button>
          <button id="developer-open-manual-user" type="button" class="nav-item">
            <span class="nav-icon" aria-hidden="true">U</span>
            <span data-dict-key="ui.label.developer.manualUser">取説（ユーザー）</span>
          </button>
        </div>

        <div class="nav-group nav-group-operations" data-nav-group="operations" data-nav-surface="hidden" data-nav-rollout="admin,developer">
          <div class="nav-group-label" data-dict-key="ui.label.nav.group.operations">運用・管理</div>
          <button class="nav-item" data-pane-target="alerts" data-nav-priority="42">
            <span class="nav-icon" aria-hidden="true">!</span>
            <span data-dict-key="ui.label.nav.alerts">要対応</span>
          </button>
          <button class="nav-item" data-pane-target="errors" data-nav-priority="41">
            <span class="nav-icon" aria-hidden="true">O</span>
            <span data-dict-key="ui.label.nav.opsStatus">状態確認</span>
          </button>
          <button class="nav-item" data-pane-target="audit" data-nav-priority="40">
            <span class="nav-icon" aria-hidden="true">A</span>
            <span data-dict-key="ui.label.nav.opsDecision">判断ログ</span>
          </button>
          <button class="nav-item" data-pane-target="settings" data-nav-priority="39">
            <span class="nav-icon" aria-hidden="true">S</span>
            <span data-dict-key="ui.label.nav.settings">設定</span>
          </button>
          <button class="nav-item" data-pane-target="maintenance" data-role="admin" data-role-allow="admin,developer" data-nav-priority="38">
            <span class="nav-icon" aria-hidden="true">M</span>
            <span data-dict-key="ui.label.nav.maintenance">回復・保守</span>
          </button>
        </div>

        <div class="legacy-nav" aria-hidden="true">
          <button class="nav-item" data-pane-target="monitor" data-nav-priority="6">
            <span class="nav-icon" aria-hidden="true">M</span>
            <span data-dict-key="ui.label.nav.monitor">配信結果</span>
          </button>
          <button class="nav-item" data-pane-target="errors" data-nav-priority="5">
            <span class="nav-icon" aria-hidden="true">E</span>
            <span data-dict-key="ui.label.nav.errors">異常対応</span>
          </button>
          <button class="nav-item" data-pane-target="read-model" data-nav-priority="4">
            <span class="nav-icon" aria-hidden="true">R</span>
            <span data-dict-key="ui.label.nav.readModel">通知集計</span>
          </button>
          <button class="nav-item" data-pane-target="llm" data-role="admin" data-role-allow="admin,developer" data-nav-priority="3">
            <span class="nav-icon" aria-hidden="true">L</span>
            <span data-dict-key="ui.label.nav.llm">LLM支援</span>
          </button>
        </div>
      </aside>

      <main class="app-content">
        <header class="app-topbar">
          <div class="top-metric top-metric-wide">
            <div class="top-label" data-dict-key="ui.label.nav.home">ダッシュボード</div>
            <div id="topbar-summary-line" class="top-summary-line">
              <span class="top-summary-item">
                <span data-dict-key="ui.label.top.registered">登録者数</span>:
                <strong id="topbar-registered-count">-</strong>
                <span data-dict-key="ui.label.top.unit.people">名</span>
              </span>
              <span class="top-summary-separator" aria-hidden="true">|</span>
              <span class="top-summary-item">
                <span data-dict-key="ui.label.top.todayScheduled">本日配信予定件数</span>:
                <strong id="topbar-scheduled-count">-</strong>
                <span data-dict-key="ui.label.top.unit.items">件</span>
              </span>
              <span class="top-summary-separator" aria-hidden="true">|</span>
              <button id="topbar-open-alerts" type="button" class="top-summary-link">
                <span data-dict-key="ui.label.top.openAlerts">要対応案件</span>:
                <strong id="topbar-alerts-count">-</strong>
                <span data-dict-key="ui.label.top.unit.items">件</span>
              </button>
            </div>
          </div>
          <div class="top-role">
            <span class="role-label" data-dict-key="ui.label.role">Role</span>
            <div class="role-switch" role="group" aria-label="Role Switch">
              <button class="role-btn is-active" data-role-value="operator" data-dict-key="ui.label.role.operatorMode">運用</button>
              <button class="role-btn" data-role-value="admin" data-dict-key="ui.label.role.adminMode">管理</button>
              <button class="role-btn" data-role-value="developer" data-dict-key="ui.label.role.developer">開発</button>
            </div>
            <div id="topbar-build-meta" class="build-meta-badge" data-build-meta-state="pending" aria-live="polite">
              <span data-dict-key="ui.label.build.meta">Build</span>:
              <span id="topbar-build-meta-value">NOT AVAILABLE</span>
            </div>
          </div>
          <div class="top-developer hidden" data-role="admin" data-role-allow="admin,developer">
            <span class="role-label" data-dict-key="ui.label.developer.menu">開発者</span>
            <div class="top-developer-actions">
              <button id="topbar-dev-map" type="button" class="secondary-btn" data-dict-key="ui.label.developer.repoMap">Repo Map（全体像）</button>
              <button id="topbar-dev-system" type="button" class="secondary-btn" data-dict-key="ui.label.developer.systemState">システム状態</button>
              <button id="topbar-dev-audit" type="button" class="secondary-btn" data-dict-key="ui.label.developer.audit">監査ログ</button>
              <button id="topbar-dev-implementation" type="button" class="secondary-btn" data-dict-key="ui.label.developer.implementation">実装状況</button>
              <button id="topbar-dev-legacy" type="button" class="secondary-btn" data-dict-key="ui.label.developer.legacyStatus">LEGACY導線</button>
              <button id="topbar-dev-manual-redac" type="button" class="secondary-btn" data-dict-key="ui.label.developer.manualRedac">取説（Redac）</button>
              <button id="topbar-dev-manual-user" type="button" class="secondary-btn" data-dict-key="ui.label.developer.manualUser">取説（ユーザー）</button>
            </div>
          </div>
        </header>

        <section class="page-header">
          <div>
            <h1 id="page-title" data-dict-key="ui.label.app.title">通知運用ダッシュボード（Linear UI）</h1>
            <p id="page-subtitle" class="page-subtitle" data-dict-key="ui.desc.page.home">通知配信の判断指標を期間別に確認します。</p>
          </div>
          <div class="page-header-actions">
            <button id="page-action-primary" type="button" class="secondary-btn hidden"></button>
            <button id="page-action-secondary" type="button" class="secondary-btn hidden"></button>
            <button id="header-consult-link" type="button" class="secondary-btn hidden" data-dict-key="ui.label.header.consult">相談窓口</button>
          </div>
        </section>
        <div id="admin-guard-banner" class="alert-banner admin-guard-banner" data-admin-guard="hidden" role="status" aria-live="polite">
          <div class="admin-guard-line"><strong>原因:</strong> <span data-guard-field="cause">-</span></div>
          <div class="admin-guard-line"><strong>影響:</strong> <span data-guard-field="impact">-</span></div>
          <div class="admin-guard-line"><strong>操作:</strong> <span data-guard-field="action">-</span></div>
        </div>
        <div id="admin-local-preflight-banner" class="alert-banner admin-local-preflight-banner" data-admin-local-preflight="hidden" role="status" aria-live="polite">
          <div class="admin-guard-line"><strong>原因:</strong> <span data-local-preflight-field="cause">-</span></div>
          <div class="admin-guard-line"><strong>影響:</strong> <span data-local-preflight-field="impact">-</span></div>
          <div class="admin-guard-line"><strong>操作:</strong> <span data-local-preflight-field="action">-</span></div>
        </div>

        <section id="pane-home" class="app-pane is-active" data-pane="home">
          <div class="decision-card" id="home-decision-card">
            <div class="decision-card-header">
              <div class="decision-title" data-dict-key="ui.label.nav.dashboard">ダッシュボード</div>
              <span id="home-decision-state" class="decision-state state-ready">READY</span>
            </div>
            <div id="home-decision-reason1" class="decision-reason">-</div>
            <div id="home-decision-reason2" class="decision-reason">-</div>
            <div class="decision-updated">
              <span data-dict-key="ui.label.decision.updatedAt">最終更新</span>
              <span id="home-decision-updated">-</span>
            </div>
            <div class="decision-actions">
              <button id="home-action-edit" type="button" class="decision-action-btn" data-action-kind="primary" data-open-pane="composer">作成・編集</button>
              <button id="home-action-activate" type="button" class="decision-action-btn" data-action-kind="secondary" data-open-pane="monitor">有効化・公開</button>
              <button id="home-action-disable" type="button" class="decision-action-btn" data-action-kind="tertiary" data-open-pane="errors">停止・無効化</button>
            </div>
          </div>
          <details id="home-pane-details" class="decision-details section" open>
            <summary data-dict-key="ui.label.decision.details">詳細</summary>
          </details>
          <div class="panel dashboard-panel">
            <div class="panel-title" data-dict-key="ui.label.home.dashboard">ダッシュボード</div>
            <div class="panel-body">
              <div class="row dashboard-controls hidden">
                <label for="dashboard-window-months" data-dict-key="ui.label.home.window">期間</label>
                <select id="dashboard-window-months" class="select-inline">
                  <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                  <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                  <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                  <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                  <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                </select>
                <button id="dashboard-reload" type="button" data-dict-key="ui.label.home.reload">指標を更新</button>
              </div>
              <div class="dashboard-kpi-grid">
                <div class="dashboard-kpi-card" data-dashboard-card="registrations">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title" data-dict-key="ui.metric.dashboard.lineRegistered">登録者数推移</div>
                    <select id="dashboard-window-registrations" class="select-inline dashboard-window-select" data-dashboard-metric="registrations">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-registrations-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-registrations-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-registrations-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-registrations-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-registrations-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="membership">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title" data-dict-key="ui.metric.dashboard.redacMatch">メンバーID登録率</div>
                    <select id="dashboard-window-membership" class="select-inline dashboard-window-select" data-dashboard-metric="membership">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-membership-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-membership-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-membership-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-membership-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-membership-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="engagement">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title" data-dict-key="ui.metric.dashboard.engagement">エンゲージメント</div>
                    <select id="dashboard-window-engagement" class="select-inline dashboard-window-select" data-dashboard-metric="engagement">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-engagement-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-engagement-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-engagement-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-engagement-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-engagement-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="notifications">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title" data-dict-key="ui.metric.dashboard.notificationCount">通知件数</div>
                    <select id="dashboard-window-notifications" class="select-inline dashboard-window-select" data-dashboard-metric="notifications">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-notifications-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-notifications-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-notifications-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-notifications-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-notifications-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="reaction">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title" data-dict-key="ui.metric.dashboard.reactionRate">反応率</div>
                    <select id="dashboard-window-reaction" class="select-inline dashboard-window-select" data-dashboard-metric="reaction">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-reaction-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-reaction-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-reaction-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-reaction-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-reaction-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="faq">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title" data-dict-key="ui.metric.dashboard.faqUsage">FAQ利用件数</div>
                    <select id="dashboard-window-faq" class="select-inline dashboard-window-select" data-dashboard-metric="faq">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-faq-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-faq-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-faq-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-faq-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-faq-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="proRatio">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title">Pro比率</div>
                    <select id="dashboard-window-proRatio" class="select-inline dashboard-window-select" data-dashboard-metric="proRatio">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-proRatio-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-proRatio-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-proRatio-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-proRatio-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-proRatio-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="proActive">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title">有料ユーザー数</div>
                    <select id="dashboard-window-proActive" class="select-inline dashboard-window-select" data-dashboard-metric="proActive">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-proActive-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-proActive-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-proActive-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-proActive-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-proActive-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="llmUsage">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title">LLM利用件数</div>
                    <select id="dashboard-window-llmUsage" class="select-inline dashboard-window-select" data-dashboard-metric="llmUsage">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-llmUsage-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-llmUsage-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-llmUsage-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-llmUsage-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-llmUsage-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="llmBlockRate">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title">LLMブロック率</div>
                    <select id="dashboard-window-llmBlockRate" class="select-inline dashboard-window-select" data-dashboard-metric="llmBlockRate">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-llmBlockRate-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-llmBlockRate-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-llmBlockRate-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-llmBlockRate-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-llmBlockRate-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="avgTaskCompletion">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title">平均タスク完了率</div>
                    <select id="dashboard-window-avgTaskCompletion" class="select-inline dashboard-window-select" data-dashboard-metric="avgTaskCompletion">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-avgTaskCompletion-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-avgTaskCompletion-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-avgTaskCompletion-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-avgTaskCompletion-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-avgTaskCompletion-note" class="dashboard-kpi-note">-</div>
                </div>
                <div class="dashboard-kpi-card" data-dashboard-card="dependencyBlockRate">
                  <div class="dashboard-kpi-header">
                    <div class="dashboard-kpi-title">依存ブロック率</div>
                    <select id="dashboard-window-dependencyBlockRate" class="select-inline dashboard-window-select" data-dashboard-metric="dependencyBlockRate">
                      <option value="1" data-dict-key="ui.value.home.window.1">1ヶ月</option>
                      <option value="3" data-dict-key="ui.value.home.window.3">3ヶ月</option>
                      <option value="6" data-dict-key="ui.value.home.window.6">6ヶ月</option>
                      <option value="12" data-dict-key="ui.value.home.window.12">1年</option>
                      <option value="36" data-dict-key="ui.value.home.window.36">3年</option>
                    </select>
                  </div>
                  <div id="dashboard-kpi-dependencyBlockRate-current" class="dashboard-kpi-value">-</div>
                  <div class="dashboard-kpi-compare">
                    <span class="dashboard-kpi-previous-label" data-dict-key="ui.label.dashboard.previousMonth">前月</span>
                    <span id="dashboard-kpi-dependencyBlockRate-previous" class="dashboard-kpi-previous">-</span>
                    <span id="dashboard-kpi-dependencyBlockRate-delta" class="dashboard-kpi-delta">-</span>
                  </div>
                  <div id="dashboard-kpi-dependencyBlockRate-chart" class="dashboard-kpi-chart"></div>
                  <div id="dashboard-kpi-dependencyBlockRate-note" class="dashboard-kpi-note">-</div>
                </div>
              </div>
              <div class="panel dashboard-journey-panel">
                <div class="panel-title">Retention / LTV</div>
                <div class="panel-body">
                  <div class="row row-top">
                    <button id="dashboard-journey-kpi-reload" type="button">Journey KPI更新</button>
                  </div>
                  <div class="dashboard-journey-grid">
                    <div class="note">Retention 7/30/60/90: <strong id="dashboard-journey-retention">-</strong></div>
                    <div class="note">Phase完了率: <strong id="dashboard-journey-phase-completion">-</strong></div>
                    <div class="note">Task完了率: <strong id="dashboard-journey-task-completion">-</strong></div>
                    <div class="note">依存ブロック率: <strong id="dashboard-journey-dependency-block">-</strong></div>
                    <div class="note">NextAction実行率: <strong id="dashboard-journey-next-action-rate">-</strong></div>
                    <div class="note">Pro conversion: <strong id="dashboard-journey-pro-conversion">-</strong></div>
                    <div class="note">Churn ratio: <strong id="dashboard-journey-churn">-</strong></div>
                  </div>
                  <pre id="dashboard-journey-kpi-result">-</pre>
                </div>
              </div>
              <div class="task-card-list dashboard-shortcuts">
                <button type="button" class="task-card-btn" data-open-pane="composer">
                  <span data-dict-key="ui.label.home.task.compose">通知を作成・承認</span>
                </button>
                <button type="button" class="task-card-btn" data-open-pane="monitor">
                  <span data-dict-key="ui.label.home.task.monitor">結果と証跡を確認</span>
                </button>
                <button type="button" class="task-card-btn" data-open-pane="errors">
                  <span data-dict-key="ui.label.home.task.errors">異常確認から開始</span>
                </button>
              </div>
            </div>
          </div>
        </section>

        <section id="pane-alerts" class="app-pane" data-pane="alerts">
          <div class="panel">
            <div class="panel-title" data-dict-key="ui.label.alerts.title">要対応一覧</div>
            <div class="panel-body">
              <div class="row">
                <button id="alerts-reload" type="button" data-dict-key="ui.label.alerts.reload">要対応を更新</button>
              </div>
              <p id="alerts-summary-note" class="alerts-summary-note">-</p>
              <div class="table-wrap">
                <table class="table">
                  <thead>
                    <tr>
                      <th data-dict-key="ui.label.alerts.col.type">種別</th>
                      <th data-dict-key="ui.label.alerts.col.count">件数</th>
                      <th data-dict-key="ui.label.alerts.col.impact">影響</th>
                      <th data-dict-key="ui.label.alerts.col.action">対応</th>
                    </tr>
                  </thead>
                  <tbody id="alerts-rows">
                    <tr>
                      <td colspan="4" data-dict-key="ui.label.common.empty">データなし</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </section>

        <section id="pane-composer" class="app-pane" data-pane="composer">
          <div class="decision-card" id="composer-decision-card">
            <div class="decision-card-header">
              <div class="decision-title" data-dict-key="ui.label.composer.summary">通知サマリー</div>
              <span id="composer-decision-state" class="decision-state state-ready">READY</span>
            </div>
            <div id="composer-decision-reason1" class="decision-reason">-</div>
            <div id="composer-decision-reason2" class="decision-reason">-</div>
            <div class="decision-updated">
              <span data-dict-key="ui.label.decision.updatedAt">最終更新</span>
              <span id="composer-decision-updated">-</span>
            </div>
            <div class="decision-actions">
              <button id="composer-action-edit" type="button" class="decision-action-btn" data-action-kind="primary" data-dict-key="ui.label.decision.action.createEdit">作成・編集</button>
              <button id="composer-action-activate" type="button" class="decision-action-btn" data-action-kind="secondary" data-dict-key="ui.label.decision.action.activate">有効化・公開</button>
              <button id="composer-action-disable" type="button" class="decision-action-btn" data-action-kind="tertiary" data-dict-key="ui.label.decision.action.disable">停止・無効化</button>
            </div>
          </div>
          <details id="composer-pane-details" class="decision-details section">
            <summary data-dict-key="ui.label.decision.details">詳細</summary>
            <div class="composer-workspace">
              <div class="panel composer-header">
                <div class="panel-body">
                  <input type="hidden" id="traceId" />
                  <div id="composer-killswitch-banner" class="alert-banner"></div>
                  <div class="composer-header-row">
                    <div class="composer-status-wrap">
                      <span class="metric-label" data-dict-key="ui.label.composer.statusSimple">状態</span>
                      <span id="composer-status-pill" class="badge badge-info">draft</span>
                    </div>
                    <div class="composer-primary-actions">
                      <button id="create-draft" type="button" data-dict-key="ui.label.composer.create">下書き作成</button>
                      <button id="approve" type="button" data-dict-key="ui.label.composer.approve">承認（有効化）</button>
                      <button id="execute" type="button" data-dict-key="ui.label.composer.execute">送信実行</button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="composer-layout">
                <div id="composer-inputs" class="panel composer-form-panel">
                  <div class="panel-title" data-dict-key="ui.label.composer.inputs">通知入力</div>
                  <div class="panel-body">
                    <div class="input-grid">
                      <div>
                        <label for="notificationType" data-dict-key="ui.label.composer.type" data-dict-tip="ui.help.composer.type">通知タイプ</label>
                        <select id="notificationType">
                          <option value="GENERAL" data-dict-key="ui.value.composer.type.general">一般</option>
                          <option value="ANNOUNCEMENT" data-dict-key="ui.value.composer.type.announcement">お知らせ</option>
                          <option value="VENDOR" data-dict-key="ui.value.composer.type.vendor">ベンダー</option>
                          <option value="AB" data-dict-key="ui.value.composer.type.ab">ABテスト</option>
                          <option value="STEP" selected data-dict-key="ui.value.composer.type.step">ステップ</option>
                        </select>
                      </div>
                      <div>
                        <label for="title" data-dict-key="ui.label.composer.title" data-dict-tip="ui.help.composer.title">タイトル</label>
                        <input id="title" data-dict-placeholder="ui.desc.composer.titlePlaceholder" placeholder="" />
                      </div>
                      <div>
                        <label for="body" data-dict-key="ui.label.composer.body" data-dict-tip="ui.help.composer.body">本文</label>
                        <textarea id="body" data-dict-placeholder="ui.desc.composer.bodyPlaceholder" placeholder=""></textarea>
                      </div>
                      <div>
                        <label for="ctaText" data-dict-key="ui.label.composer.cta1" data-dict-tip="ui.help.composer.cta">ボタン文言1</label>
                        <input id="ctaText" data-dict-placeholder="ui.desc.composer.ctaPlaceholder" placeholder="" />
                      </div>
                      <div>
                        <label for="ctaText2" data-dict-key="ui.label.composer.cta2" data-dict-tip="ui.help.composer.cta2">ボタン文言2</label>
                        <input id="ctaText2" data-dict-placeholder="ui.desc.composer.cta2Placeholder" placeholder="" />
                      </div>
                      <div>
                        <label for="linkRegistryId" data-dict-key="ui.label.composer.link" data-dict-tip="ui.help.composer.link">リンクID</label>
                        <select id="linkRegistryId">
                          <option value="">Link Registryから選択</option>
                        </select>
                      </div>
                      <div>
                        <label for="notificationCategory" data-dict-key="ui.label.composer.category" data-dict-tip="ui.help.composer.category">カテゴリ</label>
                        <select id="notificationCategory">
                          <option value="DEADLINE_REQUIRED" data-dict-key="ui.value.composer.category.deadline">期限必須</option>
                          <option value="IMMEDIATE_ACTION" data-dict-key="ui.value.composer.category.immediate">即時対応</option>
                          <option value="SEQUENCE_GUIDANCE" selected data-dict-key="ui.value.composer.category.sequence">順次案内</option>
                          <option value="TARGETED_ONLY" data-dict-key="ui.value.composer.category.targeted">対象限定</option>
                          <option value="COMPLETION_CONFIRMATION" data-dict-key="ui.value.composer.category.completion">完了確認</option>
                        </select>
                      </div>
                    </div>
                    <div id="composer-type-hint" class="note" data-dict-key="ui.desc.composer.typeHint.step">ステップ通知: シナリオとステップを指定して対象を絞り込みます。</div>
                    <div id="composer-type-fields" class="composer-type-fields">
                      <div class="input-grid type-fields" data-type-fields="ANNOUNCEMENT">
                        <div class="row">
                          <div class="flex-1">
                            <label for="metaAnnouncementExpiry" data-dict-key="ui.label.composer.announcement.expiry">公開期限（任意）</label>
                            <input id="metaAnnouncementExpiry" />
                          </div>
                          <div class="flex-1">
                            <label for="metaAnnouncementPriority" data-dict-key="ui.label.composer.announcement.priority">優先度（任意）</label>
                            <select id="metaAnnouncementPriority">
                              <option value="">-</option>
                              <option value="low">low</option>
                              <option value="medium">medium</option>
                              <option value="high">high</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="input-grid type-fields" data-type-fields="VENDOR">
                        <div class="row">
                          <div class="flex-1">
                            <label for="metaVendorId" data-dict-key="ui.label.composer.vendor.vendorId">ベンダーID</label>
                            <input id="metaVendorId" />
                          </div>
                          <div class="flex-1">
                            <label for="metaVendorTargeting" data-dict-key="ui.label.composer.vendor.targeting">対象条件（任意）</label>
                            <input id="metaVendorTargeting" />
                          </div>
                        </div>
                      </div>
                      <div class="input-grid type-fields" data-type-fields="AB">
                        <div class="row">
                          <div class="flex-1">
                            <label for="metaAbVariants" data-dict-key="ui.label.composer.ab.variants">バリエーション</label>
                            <input id="metaAbVariants" data-dict-placeholder="ui.desc.composer.ab.variantsPlaceholder" placeholder="" />
                          </div>
                          <div class="flex-1">
                            <label for="metaAbRatio" data-dict-key="ui.label.composer.ab.ratio">比率</label>
                            <input id="metaAbRatio" data-dict-placeholder="ui.desc.composer.ab.ratioPlaceholder" placeholder="" />
                          </div>
                          <div class="flex-1">
                            <label for="metaAbMetric" data-dict-key="ui.label.composer.ab.metric">指標</label>
                            <input id="metaAbMetric" />
                          </div>
                        </div>
                      </div>
                      <div class="input-grid type-fields" data-type-fields="STEP">
                        <div class="row">
                          <div class="flex-1">
                            <label for="scenarioKey" data-dict-key="ui.label.composer.scenario" data-dict-tip="ui.help.composer.scenario">シナリオ</label>
                            <select id="scenarioKey">
                              <option value="A" data-dict-key="ui.value.scenario.A">A単身</option>
                              <option value="B" data-dict-key="ui.value.scenario.B">B夫婦</option>
                              <option value="C" data-dict-key="ui.value.scenario.C">C帯同前</option>
                              <option value="D" data-dict-key="ui.value.scenario.D">D帯同後</option>
                            </select>
                          </div>
                          <div class="flex-1">
                            <label for="stepKey" data-dict-key="ui.label.composer.step" data-dict-tip="ui.help.composer.step">ステップ</label>
                            <select id="stepKey">
                              <option value="3mo" data-dict-key="ui.value.step.3mo">Day-90</option>
                              <option value="1mo" data-dict-key="ui.value.step.1mo">Day-30</option>
                              <option value="week" selected data-dict-key="ui.value.step.week">Day-7</option>
                              <option value="after1w" data-dict-key="ui.value.step.after1w">赴任後1週</option>
                            </select>
                          </div>
                        </div>
                        <div class="row composer-hidden-input">
                          <div class="flex-1">
                            <label for="targetRegion" data-dict-key="ui.label.composer.region" data-dict-tip="ui.help.composer.region">地域（任意）</label>
                            <input id="targetRegion" />
                          </div>
                          <div class="flex-1">
                            <label for="targetLimit" data-dict-key="ui.label.composer.limit" data-dict-tip="ui.help.composer.limit">上限件数（必須）</label>
                            <input id="targetLimit" type="number" min="1" max="500" value="50" />
                          </div>
                        </div>
                        <label class="checkbox" data-dict-tip="ui.help.composer.membersOnly"><input id="membersOnly" type="checkbox" /> <span data-dict-key="ui.label.composer.membersOnly">会員のみ</span></label>
                      </div>
                    </div>
                    <div class="row row-top">
                      <button id="preview" type="button" data-dict-key="ui.label.composer.preview">プレビュー</button>
                      <button id="plan" type="button" data-role="admin" data-dict-key="ui.label.composer.plan">送信計画</button>
                    </div>
                  </div>
                </div>

                <div class="panel composer-preview-panel">
                  <div class="panel-title" data-dict-key="ui.label.composer.livePreview">ライブプレビュー</div>
                  <div class="panel-body">
                    <div class="line-preview-phone">
                      <div class="line-preview-header">LINE</div>
                      <div class="line-preview-body">
                        <div class="line-preview-title" id="composer-preview-title">-</div>
                        <div class="line-preview-text" id="composer-preview-body">-</div>
                        <button type="button" class="line-preview-cta" id="composer-preview-cta">-</button>
                        <button type="button" class="line-preview-cta line-preview-cta-secondary" id="composer-preview-cta2">-</button>
                        <div class="line-preview-link" id="composer-preview-link">-</div>
                      </div>
                    </div>
                    <div class="summary-badge">
                      <span id="composer-safety" class="badge badge-ok">OK</span>
                      <span data-dict-key="ui.label.composer.safety">送信前安全チェック</span>
                    </div>
                    <ul id="composer-safety-reasons" class="composer-safety-reasons"></ul>
                  </div>
                </div>
              </div>

              <div id="composer-saved-panel" class="panel composer-saved-panel">
                <div class="panel-title" data-dict-key="ui.label.composer.saved">保存済み通知</div>
                <div class="panel-body">
                  <div class="input-grid">
                    <div class="row">
                      <div class="flex-1">
                        <label for="composer-saved-search" data-dict-key="ui.label.composer.saved.search">検索</label>
                        <input id="composer-saved-search" />
                      </div>
                      <div class="flex-1">
                        <label for="composer-saved-status" data-dict-key="ui.label.composer.saved.status">状態</label>
                        <select id="composer-saved-status">
                          <option value="" data-dict-key="ui.value.common.all">すべて</option>
                          <option value="draft" data-dict-key="ui.value.composer.status.draft">下書き</option>
                          <option value="approved" data-dict-key="ui.value.composer.status.approved">承認済み</option>
                          <option value="active" data-dict-key="ui.value.composer.status.approved">承認済み</option>
                          <option value="sent" data-dict-key="ui.value.composer.status.executed">実行済み</option>
                        </select>
                      </div>
                      <div class="flex-1">
                        <label for="composer-saved-type" data-dict-key="ui.label.composer.saved.type">タイプ</label>
                        <select id="composer-saved-type">
                          <option value="" data-dict-key="ui.value.common.all">すべて</option>
                          <option value="GENERAL" data-dict-key="ui.value.composer.type.general">一般</option>
                          <option value="ANNOUNCEMENT" data-dict-key="ui.value.composer.type.announcement">お知らせ</option>
                          <option value="VENDOR" data-dict-key="ui.value.composer.type.vendor">ベンダー</option>
                          <option value="AB" data-dict-key="ui.value.composer.type.ab">ABテスト</option>
                          <option value="STEP" data-dict-key="ui.value.composer.type.step">ステップ</option>
                        </select>
                      </div>
                    </div>
                    <div class="row">
                      <div class="flex-1">
                        <label for="composer-saved-category" data-dict-key="ui.label.composer.saved.category">カテゴリ</label>
                        <select id="composer-saved-category">
                          <option value="" data-dict-key="ui.value.common.all">すべて</option>
                          <option value="DEADLINE_REQUIRED" data-dict-key="ui.value.composer.category.deadline">期限必須</option>
                          <option value="IMMEDIATE_ACTION" data-dict-key="ui.value.composer.category.immediate">即時対応</option>
                          <option value="SEQUENCE_GUIDANCE" data-dict-key="ui.value.composer.category.sequence">順次案内</option>
                          <option value="TARGETED_ONLY" data-dict-key="ui.value.composer.category.targeted">対象限定</option>
                          <option value="COMPLETION_CONFIRMATION" data-dict-key="ui.value.composer.category.completion">完了確認</option>
                        </select>
                      </div>
                      <div class="flex-1">
                        <label for="composer-saved-scenario" data-dict-key="ui.label.composer.saved.scenario">シナリオ</label>
                        <select id="composer-saved-scenario">
                          <option value="" data-dict-key="ui.value.common.all">すべて</option>
                          <option value="A" data-dict-key="ui.value.scenario.A">A単身</option>
                          <option value="B" data-dict-key="ui.value.scenario.B">B夫婦</option>
                          <option value="C" data-dict-key="ui.value.scenario.C">C帯同前</option>
                          <option value="D" data-dict-key="ui.value.scenario.D">D帯同後</option>
                        </select>
                      </div>
                      <div class="flex-1">
                        <label for="composer-saved-step" data-dict-key="ui.label.composer.saved.step">ステップ</label>
                        <select id="composer-saved-step">
                          <option value="" data-dict-key="ui.value.common.all">すべて</option>
                          <option value="3mo" data-dict-key="ui.value.step.3mo">Day-90</option>
                          <option value="1mo" data-dict-key="ui.value.step.1mo">Day-30</option>
                          <option value="week" data-dict-key="ui.value.step.week">Day-7</option>
                          <option value="after1w" data-dict-key="ui.value.step.after1w">赴任後1週</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="filter-bar trend-ui-only">
                    <div class="filter-chips" id="composer-saved-filter-chips"></div>
                    <div class="filter-meta">
                      <span class="result-count" id="composer-saved-result-count">-</span>
                      <button id="composer-saved-clear" type="button" class="button-subtle filter-clear-btn" data-dict-key="ui.label.filters.clear">条件をクリア</button>
                    </div>
                  </div>
                  <table class="table-compact composer-saved-table">
                    <thead>
                      <tr>
                        <th><button type="button" class="table-sort-btn" data-composer-sort-key="createdAt" data-dict-key="ui.label.composer.saved.col.createdAt">作成日</button></th>
                        <th><button type="button" class="table-sort-btn" data-composer-sort-key="title" data-dict-key="ui.label.composer.saved.col.title">タイトル</button></th>
                        <th><button type="button" class="table-sort-btn" data-composer-sort-key="status" data-dict-key="ui.label.composer.saved.col.status">状態</button></th>
                        <th><button type="button" class="table-sort-btn" data-composer-sort-key="notificationCategory" data-dict-key="ui.label.composer.saved.col.category">カテゴリ</button></th>
                        <th><button type="button" class="table-sort-btn" data-composer-sort-key="scenarioKey" data-dict-key="ui.label.composer.saved.col.scenario">シナリオ</button></th>
                        <th><button type="button" class="table-sort-btn" data-composer-sort-key="stepKey" data-dict-key="ui.label.composer.saved.col.step">ステップ</button></th>
                        <th><button type="button" class="table-sort-btn" data-composer-sort-key="targetCount" data-dict-key="ui.label.composer.saved.col.targetCount" data-dict-tip="ui.help.readModel.target">送信対象数</button></th>
                        <th><button type="button" class="table-sort-btn" data-composer-sort-key="ctr" data-dict-key="ui.label.composer.saved.col.ctr" data-dict-tip="ui.help.readModel.ctr">CTR</button></th>
                        <th data-dict-key="ui.label.composer.saved.col.actions">操作</th>
                      </tr>
                    </thead>
                    <tbody id="composer-saved-rows"></tbody>
                  </table>
                </div>
              </div>

              <details class="panel">
                <summary data-dict-key="ui.label.composer.details">詳細（内部キー）</summary>
                <div class="panel-body">
                  <div class="note"><span data-dict-key="ui.label.composer.notificationId">通知ID</span>: <span id="notificationId">-</span></div>
                  <div class="note"><span data-dict-key="ui.label.composer.planHash">計画ハッシュ</span>: <span id="planHash">-</span></div>
                  <div class="note"><span data-dict-key="ui.label.composer.confirmToken">確認トークン</span>: <span id="confirmToken">-</span></div>
                  <div class="note"><span data-dict-key="ui.label.composer.planTarget">対象人数（plan）</span>: <span id="planTargetCount">-</span></div>
                  <div class="note"><span data-dict-key="ui.label.composer.planBlocked">抑制数（plan）</span>: <span id="planCapBlockedCount">-</span></div>
                  <div class="note" id="execute-cap-meta" data-dict-key="ui.desc.composer.executeMeta">計数方式: - / 計数元: - / 計数戦略: - / 最終理由: -</div>
                  <pre id="draft-result">-</pre>
                  <pre id="plan-result">-</pre>
                  <pre id="execute-result">-</pre>
                </div>
              </details>
            </div>
          </details>
        </section>

        <section id="pane-monitor" class="app-pane" data-pane="monitor">
          <div class="decision-card" id="monitor-decision-card">
            <div class="decision-card-header">
              <div class="decision-title" data-dict-key="ui.label.nav.monitor">配信結果</div>
              <span id="monitor-decision-state" class="decision-state state-ready">READY</span>
            </div>
            <div id="monitor-decision-reason1" class="decision-reason">-</div>
            <div id="monitor-decision-reason2" class="decision-reason">-</div>
            <div class="decision-updated">
              <span data-dict-key="ui.label.decision.updatedAt">最終更新</span>
              <span id="monitor-decision-updated">-</span>
            </div>
            <div class="decision-actions">
              <button id="monitor-action-edit" type="button" class="decision-action-btn" data-action-kind="primary" data-dict-key="ui.label.decision.action.createEdit">作成・編集</button>
              <button id="monitor-action-activate" type="button" class="decision-action-btn" data-action-kind="secondary" data-dict-key="ui.label.decision.action.activate">有効化・公開</button>
              <button id="monitor-action-disable" type="button" class="decision-action-btn" data-action-kind="tertiary" data-dict-key="ui.label.decision.action.disable">停止・無効化</button>
            </div>
          </div>
          <details id="monitor-pane-details" class="decision-details section">
            <summary data-dict-key="ui.label.decision.details">詳細</summary>
            <div class="pane-grid">
            <div class="pane-main">
              <div class="panel today-card">
                <div class="panel-title" data-dict-key="ui.label.monitor.today">今日の要対応</div>
                <div class="panel-body">
                  <div class="today-metrics">
                    <div><span class="metric-label" data-dict-key="ui.metric.todo.count">要対応件数</span><span id="monitor-todo" class="metric-value">0</span></div>
                    <div><span class="metric-label" data-dict-key="ui.metric.todo.causes">主因トップ3</span><span id="monitor-causes" class="metric-value">-</span></div>
                    <div><span class="metric-label" data-dict-key="ui.metric.todo.anomaly">直近の異常</span><span id="monitor-anomaly" class="metric-value">-</span></div>
                  </div>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.monitor.userTimeline">ユーザー別通知履歴</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.monitor.userTimeline">LINEユーザーIDまたは会員番号で、配信履歴を時系列で確認します。</div>
                  <div class="row">
                    <label class="flex-1" data-dict-key="ui.label.monitor.userLineUserId" data-dict-tip="ui.help.monitor.userLineUserId">LINEユーザーID
                      <input type="text" id="monitor-user-line-user-id" />
                    </label>
                    <label class="flex-1" data-dict-key="ui.label.monitor.userMemberNumber" data-dict-tip="ui.help.monitor.userMemberNumber">会員番号
                      <input type="text" id="monitor-user-member-number" />
                    </label>
                    <label data-dict-key="ui.label.monitor.userLimit" data-dict-tip="ui.help.monitor.userLimit">件数
                      <input type="number" id="monitor-user-limit" class="input-sm" min="1" max="200" value="50" />
                    </label>
                  </div>
                  <div class="row row-top">
                    <button id="monitor-user-search" type="button" data-dict-key="ui.label.monitor.userSearch">履歴を検索</button>
                  </div>
                  <table class="table-compact">
                    <thead>
                      <tr>
                        <th data-dict-key="ui.label.monitor.userCol.sentAt">送信日時</th>
                        <th data-dict-key="ui.label.monitor.userCol.deliveryAt">到達日時</th>
                        <th data-dict-key="ui.label.monitor.userCol.user">対象ユーザー</th>
                        <th data-dict-key="ui.label.monitor.userCol.notification">通知</th>
                        <th data-dict-key="ui.label.monitor.userCol.status">状態</th>
                        <th data-dict-key="ui.label.monitor.userCol.failure">送信できなかった理由</th>
                      </tr>
                    </thead>
                    <tbody id="monitor-user-rows"></tbody>
                  </table>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.monitor.insights">クリック分析（7日/30日）</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.monitor.insights">配信実績からベンダー別反応率、AB状況、FAQ参照Topを表示します。</div>
                  <div class="row">
                    <label data-dict-key="ui.label.monitor.windowDays" data-dict-tip="ui.help.monitor.windowDays">集計期間
                      <select id="monitor-window-days" class="select-inline">
                        <option value="7" data-dict-key="ui.value.monitor.window.7">直近7日</option>
                        <option value="30" data-dict-key="ui.value.monitor.window.30">直近30日</option>
                      </select>
                    </label>
                    <button id="monitor-insights-reload" type="button" data-dict-key="ui.label.monitor.insightsReload">分析を更新</button>
                  </div>
	                  <div class="grid">
	                    <details class="table-section section" open>
	                      <summary data-dict-key="ui.label.monitor.vendorCtr">ベンダー別CTR Top</summary>
	                      <div class="table-scroll">
	                        <table class="table-compact">
	                          <thead>
	                            <tr>
	                              <th data-dict-key="ui.label.monitor.vendorCol.name">ベンダー</th>
	                              <th data-dict-key="ui.label.monitor.vendorCol.sent">送信</th>
	                              <th data-dict-key="ui.label.monitor.vendorCol.click">クリック</th>
	                              <th data-dict-key="ui.label.monitor.vendorCol.ctr">反応率</th>
	                            </tr>
	                          </thead>
	                          <tbody id="monitor-vendor-rows"></tbody>
	                        </table>
	                      </div>
	                    </details>
	                    <details class="table-section section" open>
	                      <summary data-dict-key="ui.label.monitor.abFaq">AB/FAQ状況</summary>
	                      <div id="monitor-ab-summary" class="note">-</div>
	                      <div class="table-scroll">
	                        <table class="table-compact">
	                          <thead>
	                            <tr>
	                              <th data-dict-key="ui.label.monitor.faqCol.article">FAQ記事</th>
	                              <th data-dict-key="ui.label.monitor.faqCol.count">参照回数</th>
	                            </tr>
	                          </thead>
	                          <tbody id="monitor-faq-rows"></tbody>
	                        </table>
	                      </div>
	                    </details>
	                  </div>
	                </div>
	              </div>

	              <details class="table-section section">
	                <summary data-dict-key="ui.label.monitor.table">配信結果（参照）</summary>
	                <div class="table-scroll">
	                  <table class="table-compact">
	                    <thead>
	                      <tr>
	                        <th data-dict-key="ui.label.monitor.col.title" data-dict-tip="ui.help.monitor.title">タイトル</th>
	                        <th data-dict-key="ui.label.monitor.col.scenario" data-dict-tip="ui.help.monitor.scenario">シナリオ</th>
	                        <th data-dict-key="ui.label.monitor.col.step" data-dict-tip="ui.help.monitor.step">ステップ</th>
	                        <th data-dict-key="ui.label.monitor.col.target" data-dict-tip="ui.help.monitor.target">対象数</th>
	                        <th data-dict-key="ui.label.monitor.col.last" data-dict-tip="ui.help.monitor.last">最終結果</th>
	                        <th data-dict-key="ui.label.monitor.col.ctr" data-dict-tip="ui.help.monitor.ctr">反応率</th>
	                        <th data-dict-key="ui.label.monitor.col.health" data-dict-tip="ui.help.monitor.health">健康度</th>
	                      </tr>
	                    </thead>
	                    <tbody id="monitor-rows"></tbody>
	                  </table>
	                </div>
	              </details>
            </div>
            <div class="pane-detail">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.monitor.detail">詳細</div>
                <div class="panel-body">
                  <div id="monitor-detail" class="note">行を選択すると詳細を表示します。</div>
                  <div id="monitor-safe-next-step" class="safe-next-step" data-dict-key="ui.desc.monitor.safeNextStep">次の安全な一手: 反応率が低い通知の詳細を確認する</div>
                  <details>
                    <summary data-dict-key="ui.label.monitor.raw">RAW JSON</summary>
                    <pre id="monitor-raw">-</pre>
                  </details>
                </div>
              </div>
            </div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.monitor.actions">配信結果の取得条件を指定します。</div>
                  <div class="note">
                    <span data-dict-key="ui.label.monitor.userTraceLink">テスト結果を追跡する場合</span>:
                    <button id="monitor-open-trace" type="button" data-dict-key="ui.label.monitor.openTrace">追跡IDで証跡を開く</button>
                  </div>
                  <div class="note">
                    <span data-dict-key="ui.label.traceId" data-dict-tip="ui.help.traceId">追跡ID</span>:
                    <input type="text" id="monitor-trace" class="input-inline input-trace" />
                    <button id="monitor-regen" type="button" data-dict-key="ui.label.trace.regen">再生成</button>
                    <span id="monitor-trace-note"></span>
                  </div>
                  <div class="note">
                    <label data-dict-key="ui.label.monitor.limit" data-dict-tip="ui.help.monitor.limit">件数</label>
                    <input type="number" id="monitor-limit" min="1" max="200" value="50" class="input-inline input-sm" />
                    <label data-dict-key="ui.label.monitor.status" data-dict-tip="ui.help.monitor.status">状態</label>
                    <input type="text" id="monitor-status" class="input-inline input-sm" />
                  </div>
                  <div class="note">
                    <label data-dict-key="ui.label.monitor.scenario" data-dict-tip="ui.help.monitor.scenario">シナリオ</label>
                    <input type="text" id="monitor-scenario" class="input-inline input-xs" />
                    <label data-dict-key="ui.label.monitor.step" data-dict-tip="ui.help.monitor.step">ステップ</label>
                    <input type="text" id="monitor-step" class="input-inline input-xs" />
                  </div>
                  <div class="row row-top">
                    <button id="monitor-reload" type="button" data-dict-key="ui.label.monitor.reload">更新</button>
                  </div>
                  <div id="monitor-skeleton" class="skeleton-stack is-hidden">
                    <div class="skeleton-line lg w-50"></div>
                    <div class="skeleton-line w-70"></div>
                    <div class="skeleton-line w-30"></div>
                  </div>
                </div>
              </div>
            </aside>
          </div>
          </details>
        </section>

        <section id="pane-city-pack" class="app-pane" data-pane="city-pack">
          <div class="decision-card" id="city-pack-decision-card">
            <div class="decision-card-header">
              <div class="decision-title" data-dict-key="ui.label.nav.cityPack">City Pack監査</div>
              <span id="city-pack-decision-state" class="decision-state state-ready">READY</span>
            </div>
            <div id="city-pack-decision-reason1" class="decision-reason">-</div>
            <div id="city-pack-decision-reason2" class="decision-reason">-</div>
            <div class="decision-updated">
              <span data-dict-key="ui.label.decision.updatedAt">最終更新</span>
              <span id="city-pack-decision-updated">-</span>
            </div>
            <div class="decision-actions">
              <button id="city-pack-action-edit" type="button" class="decision-action-btn" data-action-kind="primary" data-dict-key="ui.label.decision.action.createEdit">作成・編集</button>
              <button id="city-pack-action-activate" type="button" class="decision-action-btn" data-action-kind="secondary" data-dict-key="ui.label.decision.action.activate">有効化・公開</button>
              <button id="city-pack-action-disable" type="button" class="decision-action-btn" data-action-kind="tertiary" data-dict-key="ui.label.decision.action.disable">停止・無効化</button>
            </div>
          </div>
          <details id="city-pack-pane-details" class="decision-details section">
            <summary data-dict-key="ui.label.decision.details">詳細</summary>
            <div class="panel unified-admin-panel city-pack-unified-panel">
              <div class="panel-title">City Pack一覧</div>
              <div class="panel-body">
                <div class="input-grid">
                  <div class="row">
                    <div class="flex-1">
                      <label for="city-pack-unified-filter-id">ID</label>
                      <input id="city-pack-unified-filter-id" type="text" placeholder="requestId / feedbackId / sourceRefId" />
                    </div>
                    <div class="flex-1">
                      <label for="city-pack-unified-filter-user-id">ユーザーID</label>
                      <input id="city-pack-unified-filter-user-id" type="text" />
                    </div>
                    <div class="flex-1">
                      <label for="city-pack-unified-filter-city">都市</label>
                      <input id="city-pack-unified-filter-city" type="text" />
                    </div>
                  </div>
                  <div class="row">
                    <div class="flex-1">
                      <label for="city-pack-unified-filter-status">ステータス</label>
                      <select id="city-pack-unified-filter-status">
                        <option value="">すべて</option>
                        <option value="queued">queued</option>
                        <option value="drafted">drafted</option>
                        <option value="needs_review">needs_review</option>
                        <option value="approved">approved</option>
                        <option value="active">active</option>
                        <option value="rejected">rejected</option>
                        <option value="failed">failed</option>
                        <option value="new">new</option>
                        <option value="triaged">triaged</option>
                        <option value="resolved">resolved</option>
                        <option value="proposed">proposed</option>
                        <option value="draft">draft</option>
                        <option value="sent">sent</option>
                        <option value="retired">retired</option>
                        <option value="blocked">blocked</option>
                        <option value="dead">dead</option>
                      </select>
                    </div>
                    <div class="flex-1">
                      <label for="city-pack-unified-filter-type">種別</label>
                      <select id="city-pack-unified-filter-type">
                        <option value="">すべて</option>
                        <option value="request">Request</option>
                        <option value="feedback">Feedback</option>
                        <option value="bulletin">Bulletin</option>
                        <option value="proposal">Proposal</option>
                        <option value="review">Review</option>
                        <option value="template">Template</option>
                      </select>
                    </div>
                    <div class="flex-1">
                      <label for="city-pack-unified-filter-date-from">作成日 from</label>
                      <input id="city-pack-unified-filter-date-from" type="date" />
                    </div>
                    <div class="flex-1">
                      <label for="city-pack-unified-filter-date-to">作成日 to</label>
                      <input id="city-pack-unified-filter-date-to" type="date" />
                    </div>
                  </div>
                </div>
                <div class="row row-top">
                  <button id="city-pack-unified-reload" type="button">更新</button>
                </div>
                <div class="filter-bar trend-ui-only">
                  <div class="filter-chips" id="city-pack-unified-filter-chips"></div>
                  <div class="filter-meta">
                    <span class="result-count" id="city-pack-unified-result-count">-</span>
                    <button id="city-pack-unified-clear" type="button" class="button-subtle filter-clear-btn" data-dict-key="ui.label.filters.clear">条件をクリア</button>
                  </div>
                </div>
                <div class="table-scroll">
                  <table class="table-compact city-pack-unified-table">
                    <thead>
                      <tr>
                        <th><button type="button" class="table-sort-btn" data-city-pack-sort-key="createdAt">作成日</button></th>
                        <th><button type="button" class="table-sort-btn" data-city-pack-sort-key="itemId">ID</button></th>
                        <th><button type="button" class="table-sort-btn" data-city-pack-sort-key="lineUserId">ユーザー</button></th>
                        <th><button type="button" class="table-sort-btn" data-city-pack-sort-key="cityLabel">都市</button></th>
                        <th><button type="button" class="table-sort-btn" data-city-pack-sort-key="recordType">種別</button></th>
                        <th><button type="button" class="table-sort-btn" data-city-pack-sort-key="status">状態</button></th>
                        <th><button type="button" class="table-sort-btn" data-city-pack-sort-key="assignee">担当</button></th>
                        <th><button type="button" class="table-sort-btn" data-city-pack-sort-key="updatedAt">更新日</button></th>
                        <th><button type="button" class="table-sort-btn" data-city-pack-sort-key="kpiScore" data-dict-tip="ui.help.cityPack.kpiScore">主要KPI</button></th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="city-pack-unified-rows"></tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="pane-grid city-pack-legacy-block">
            <div class="pane-main">
              <div class="panel today-card">
                <div class="panel-title" data-dict-key="ui.label.cityPack.kpi">City Pack監査KPI</div>
                <div class="panel-body">
                  <div class="today-metrics">
                    <div><span class="metric-label" data-dict-key="ui.metric.cityPack.expiredZeroRate">expired sourceゼロ率</span><span id="city-pack-kpi-expired-zero-rate" class="metric-value">-</span></div>
                    <div><span class="metric-label" data-dict-key="ui.metric.cityPack.reviewLag">review滞留時間</span><span id="city-pack-kpi-review-lag" class="metric-value">-</span></div>
                    <div><span class="metric-label" data-dict-key="ui.metric.cityPack.blockRate">source起因ブロック率</span><span id="city-pack-kpi-block-rate" class="metric-value">-</span></div>
                  </div>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.metrics">City Pack効果測定</div>
                <div class="panel-body">
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.metricsWindowDays" data-dict-tip="ui.help.cityPack.metricsWindowDays">期間
                      <select id="city-pack-metrics-window-days" class="select-inline">
                        <option value="7" data-dict-key="ui.value.cityPack.metricsWindowDays.7">7日</option>
                        <option value="30" data-dict-key="ui.value.cityPack.metricsWindowDays.30">30日</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.metricsLimit" data-dict-tip="ui.help.cityPack.metricsLimit">件数
                      <input id="city-pack-metrics-limit" type="number" min="1" max="200" value="50" class="input-sm" />
                    </label>
                    <button id="city-pack-metrics-reload" type="button" data-dict-key="ui.label.cityPack.metricsReload">効果測定を更新</button>
                  </div>
                  <div id="city-pack-metrics-summary" class="note" data-dict-key="ui.desc.cityPack.metricsSummary">効果測定: 読み込み待ち</div>
                  <div class="table-scroll">
                    <table class="table-compact">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.cityPack.metrics.col.cityPackId">cityPackId</th>
                          <th data-dict-key="ui.label.cityPack.metrics.col.slotId">slotId</th>
                          <th data-dict-key="ui.label.cityPack.metrics.col.sourceRefId">sourceRefId</th>
                          <th data-dict-key="ui.label.cityPack.metrics.col.sent">sent</th>
                          <th data-dict-key="ui.label.cityPack.metrics.col.delivered">delivered</th>
                          <th data-dict-key="ui.label.cityPack.metrics.col.clicked">clicked</th>
                          <th data-dict-key="ui.label.cityPack.metrics.col.ctr">ctr</th>
                          <th data-dict-key="ui.label.cityPack.metrics.col.lastDate">lastDate</th>
                        </tr>
                      </thead>
                      <tbody id="city-pack-metrics-rows"></tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.requestInbox">Request Inbox</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.cityPack.requestInbox">LINE申告から生成されたCity Pack草案を確認し、Approve/Reject/Retryを実行します。</div>
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.requestStatus" data-dict-tip="ui.help.cityPack.requestStatus">状態
                      <select id="city-pack-request-status-filter" class="select-inline">
                        <option value="" data-dict-key="ui.value.cityPack.requestStatus.all">すべて</option>
                        <option value="queued" data-dict-key="ui.value.cityPack.requestStatus.queued">待機</option>
                        <option value="drafted" data-dict-key="ui.value.cityPack.requestStatus.drafted">草案作成済み</option>
                        <option value="needs_review" data-dict-key="ui.value.cityPack.requestStatus.needsReview">要確認</option>
                        <option value="approved" data-dict-key="ui.value.cityPack.requestStatus.approved">承認済み</option>
                        <option value="active" data-dict-key="ui.value.cityPack.requestStatus.active">有効</option>
                        <option value="rejected" data-dict-key="ui.value.cityPack.requestStatus.rejected">却下</option>
                        <option value="failed" data-dict-key="ui.value.cityPack.requestStatus.failed">失敗</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.requestRegion" data-dict-tip="ui.help.cityPack.requestRegion">地域キー
                      <input id="city-pack-request-region" type="text" class="input-sm" data-dict-placeholder="ui.placeholder.cityPack.requestRegion" placeholder="TX::austin" />
                    </label>
                    <label data-dict-key="ui.label.cityPack.requestClass" data-dict-tip="ui.help.cityPack.requestClass">packClass
                      <select id="city-pack-request-class-filter" class="select-inline">
                        <option value="" data-dict-key="ui.value.cityPack.packClass.all">すべて</option>
                        <option value="regional" data-dict-key="ui.value.cityPack.packClass.regional">regional</option>
                        <option value="nationwide" data-dict-key="ui.value.cityPack.packClass.nationwide">nationwide</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.requestLanguage" data-dict-tip="ui.help.cityPack.requestLanguage">language
                      <input id="city-pack-request-language-filter" type="text" class="input-sm" placeholder="ja" />
                    </label>
                    <label data-dict-key="ui.label.cityPack.requestLimit" data-dict-tip="ui.help.cityPack.requestLimit">件数
                      <input id="city-pack-request-limit" type="number" min="1" max="200" value="50" class="input-sm" />
                    </label>
                    <button id="city-pack-request-reload" type="button" data-dict-key="ui.label.cityPack.requestReload">Request更新</button>
                  </div>
                  <table class="table-compact">
                    <thead>
                      <tr>
                        <th data-dict-key="ui.label.cityPack.request.col.status">status</th>
                        <th data-dict-key="ui.label.cityPack.request.col.region">region</th>
                        <th data-dict-key="ui.label.cityPack.request.col.packClass">packClass</th>
                        <th data-dict-key="ui.label.cityPack.request.col.language">language</th>
                        <th data-dict-key="ui.label.cityPack.request.col.requestId">requestId</th>
                        <th data-dict-key="ui.label.cityPack.request.col.stage">stage</th>
                        <th data-dict-key="ui.label.cityPack.request.col.draft">draft</th>
                        <th data-dict-key="ui.label.cityPack.request.col.warningCount">warning</th>
                        <th data-dict-key="ui.label.cityPack.request.col.agingHours">aging(h)</th>
                        <th data-dict-key="ui.label.cityPack.request.col.traceId">traceId</th>
                        <th data-dict-key="ui.label.cityPack.request.col.actions">actions</th>
                      </tr>
                    </thead>
                    <tbody id="city-pack-request-rows"></tbody>
                  </table>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.feedbackInbox">Feedback Inbox</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.cityPack.feedbackInbox">City Packの誤り報告を確認し、対応を記録します。</div>
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.feedbackStatus" data-dict-tip="ui.help.cityPack.feedbackStatus">状態
                      <select id="city-pack-feedback-status-filter" class="select-inline">
                        <option value="" data-dict-key="ui.value.cityPack.feedbackStatus.all">すべて</option>
                        <option value="new" data-dict-key="ui.value.cityPack.feedbackStatus.new">新規</option>
                        <option value="triaged" data-dict-key="ui.value.cityPack.feedbackStatus.triaged">対応中</option>
                        <option value="resolved" data-dict-key="ui.value.cityPack.feedbackStatus.resolved">解決済み</option>
                        <option value="queued" data-dict-key="ui.value.cityPack.feedbackStatus.queued">待機</option>
                        <option value="reviewed" data-dict-key="ui.value.cityPack.feedbackStatus.reviewed">確認済み</option>
                        <option value="rejected" data-dict-key="ui.value.cityPack.feedbackStatus.rejected">却下</option>
                        <option value="proposed" data-dict-key="ui.value.cityPack.feedbackStatus.proposed">提案</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.feedbackLimit" data-dict-tip="ui.help.cityPack.feedbackLimit">件数
                      <input id="city-pack-feedback-limit" type="number" min="1" max="200" value="50" class="input-sm" />
                    </label>
                    <label data-dict-key="ui.label.cityPack.feedbackClass" data-dict-tip="ui.help.cityPack.feedbackClass">packClass
                      <select id="city-pack-feedback-class-filter" class="select-inline">
                        <option value="" data-dict-key="ui.value.cityPack.packClass.all">すべて</option>
                        <option value="regional" data-dict-key="ui.value.cityPack.packClass.regional">regional</option>
                        <option value="nationwide" data-dict-key="ui.value.cityPack.packClass.nationwide">nationwide</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.feedbackLanguage" data-dict-tip="ui.help.cityPack.feedbackLanguage">language
                      <input id="city-pack-feedback-language-filter" type="text" class="input-sm" placeholder="ja" />
                    </label>
                    <button id="city-pack-feedback-reload" type="button" data-dict-key="ui.label.cityPack.feedbackReload">Feedback更新</button>
                  </div>
                  <table class="table-compact">
                    <thead>
                      <tr>
                        <th data-dict-key="ui.label.cityPack.feedback.col.status">status</th>
                        <th data-dict-key="ui.label.cityPack.feedback.col.region">region</th>
                        <th data-dict-key="ui.label.cityPack.feedback.col.packClass">packClass</th>
                        <th data-dict-key="ui.label.cityPack.feedback.col.language">language</th>
                        <th data-dict-key="ui.label.cityPack.feedback.col.slot">slot</th>
                        <th data-dict-key="ui.label.cityPack.feedback.col.feedback">feedback</th>
                        <th data-dict-key="ui.label.cityPack.feedback.col.resolution">resolution</th>
                        <th data-dict-key="ui.label.cityPack.feedback.col.traceId">traceId</th>
                        <th data-dict-key="ui.label.cityPack.feedback.col.actions">actions</th>
                      </tr>
                    </thead>
                    <tbody id="city-pack-feedback-rows"></tbody>
                  </table>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.bulletinInbox">Bulletin Inbox</div>
                <div class="panel-body">
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.bulletinStatus" data-dict-tip="ui.help.cityPack.bulletinStatus">状態
                      <select id="city-pack-bulletin-status-filter" class="select-inline">
                        <option value="" data-dict-key="ui.value.cityPack.bulletinStatus.all">すべて</option>
                        <option value="draft" data-dict-key="ui.value.cityPack.bulletinStatus.draft">下書き</option>
                        <option value="approved" data-dict-key="ui.value.cityPack.bulletinStatus.approved">承認済み</option>
                        <option value="sent" data-dict-key="ui.value.cityPack.bulletinStatus.sent">送信済み</option>
                        <option value="rejected" data-dict-key="ui.value.cityPack.bulletinStatus.rejected">却下</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.bulletinLimit" data-dict-tip="ui.help.cityPack.bulletinLimit">件数
                      <input id="city-pack-bulletin-limit" type="number" min="1" max="200" value="50" class="input-sm" />
                    </label>
                    <button id="city-pack-bulletin-reload" type="button" data-dict-key="ui.label.cityPack.bulletinReload">Bulletin更新</button>
                  </div>
                  <table class="table-compact">
                    <thead>
                      <tr>
                        <th data-dict-key="ui.label.cityPack.bulletin.col.status">status</th>
                        <th data-dict-key="ui.label.cityPack.bulletin.col.cityPackId">cityPackId</th>
                        <th data-dict-key="ui.label.cityPack.bulletin.col.notificationId">notificationId</th>
                        <th data-dict-key="ui.label.cityPack.bulletin.col.summary">summary</th>
                        <th data-dict-key="ui.label.cityPack.bulletin.col.traceId">traceId</th>
                        <th data-dict-key="ui.label.cityPack.bulletin.col.actions">actions</th>
                      </tr>
                    </thead>
                    <tbody id="city-pack-bulletin-rows"></tbody>
                  </table>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.proposalInbox">Proposal Inbox</div>
                <div class="panel-body">
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.proposalStatus" data-dict-tip="ui.help.cityPack.proposalStatus">状態
                      <select id="city-pack-proposal-status-filter" class="select-inline">
                        <option value="" data-dict-key="ui.value.cityPack.proposalStatus.all">すべて</option>
                        <option value="draft" data-dict-key="ui.value.cityPack.proposalStatus.draft">下書き</option>
                        <option value="approved" data-dict-key="ui.value.cityPack.proposalStatus.approved">承認済み</option>
                        <option value="applied" data-dict-key="ui.value.cityPack.proposalStatus.applied">適用済み</option>
                        <option value="rejected" data-dict-key="ui.value.cityPack.proposalStatus.rejected">却下</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.proposalLimit" data-dict-tip="ui.help.cityPack.proposalLimit">件数
                      <input id="city-pack-proposal-limit" type="number" min="1" max="200" value="50" class="input-sm" />
                    </label>
                    <button id="city-pack-proposal-reload" type="button" data-dict-key="ui.label.cityPack.proposalReload">Proposal更新</button>
                  </div>
                  <table class="table-compact">
                    <thead>
                      <tr>
                        <th data-dict-key="ui.label.cityPack.proposal.col.status">status</th>
                        <th data-dict-key="ui.label.cityPack.proposal.col.cityPackId">cityPackId</th>
                        <th data-dict-key="ui.label.cityPack.proposal.col.summary">summary</th>
                        <th data-dict-key="ui.label.cityPack.proposal.col.traceId">traceId</th>
                        <th data-dict-key="ui.label.cityPack.proposal.col.actions">actions</th>
                      </tr>
                    </thead>
                    <tbody id="city-pack-proposal-rows"></tbody>
                  </table>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.reviewInbox">Review Inbox</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.cityPack.reviewInbox">情報源の有効期限と監査結果を確認し、Confirm / Retire / Replace / ManualOnly を実行します。</div>
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.statusFilter" data-dict-tip="ui.help.cityPack.statusFilter">状態
                      <select id="city-pack-status-filter" class="select-inline">
                        <option value="" data-dict-key="ui.value.cityPack.status.all">すべて</option>
                        <option value="needs_review" data-dict-key="ui.value.cityPack.status.needsReview">要確認</option>
                        <option value="active" data-dict-key="ui.value.cityPack.status.active">有効</option>
                        <option value="dead" data-dict-key="ui.value.cityPack.status.dead">停止</option>
                        <option value="blocked" data-dict-key="ui.value.cityPack.status.blocked">手動対応</option>
                        <option value="retired" data-dict-key="ui.value.cityPack.status.retired">廃止</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.limit" data-dict-tip="ui.help.cityPack.limit">件数
                      <input id="city-pack-limit" type="number" min="1" max="200" value="50" class="input-sm" />
                    </label>
                    <label data-dict-key="ui.label.cityPack.packClassFilter" data-dict-tip="ui.help.cityPack.packClassFilter">packClass
                      <select id="city-pack-pack-class-filter" class="select-inline">
                        <option value="" data-dict-key="ui.value.cityPack.packClass.all">すべて</option>
                        <option value="regional" data-dict-key="ui.value.cityPack.packClass.regional">regional</option>
                        <option value="nationwide" data-dict-key="ui.value.cityPack.packClass.nationwide">nationwide</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.languageFilter" data-dict-tip="ui.help.cityPack.languageFilter">language
                      <input id="city-pack-language-filter" type="text" class="input-sm" placeholder="ja" />
                    </label>
                    <button id="city-pack-reload" type="button" data-dict-key="ui.label.cityPack.reload">Inbox更新</button>
                  </div>
                  <table class="table-compact">
                    <thead>
                      <tr>
                        <th data-dict-key="ui.label.cityPack.col.priority">priority</th>
                        <th data-dict-key="ui.label.cityPack.col.source">source</th>
                        <th data-dict-key="ui.label.cityPack.col.sourceType">sourceType</th>
                        <th data-dict-key="ui.label.cityPack.col.authorityLevel">authorityLevel</th>
                        <th data-dict-key="ui.label.cityPack.col.requiredLevel">requiredLevel</th>
                        <th data-dict-key="ui.label.cityPack.col.usedByClass">packClass</th>
                        <th data-dict-key="ui.label.cityPack.col.usedByLanguage">language</th>
                        <th data-dict-key="ui.label.cityPack.col.confidence">confidence</th>
                        <th data-dict-key="ui.label.cityPack.col.auditStage">auditStage</th>
                        <th data-dict-key="ui.label.cityPack.col.result">result</th>
                        <th data-dict-key="ui.label.cityPack.col.validUntil">validUntil</th>
                        <th data-dict-key="ui.label.cityPack.col.usedBy">usedBy</th>
                        <th data-dict-key="ui.label.cityPack.col.evidence">evidence</th>
                        <th data-dict-key="ui.label.cityPack.col.actions">actions</th>
                      </tr>
                    </thead>
                    <tbody id="city-pack-rows"></tbody>
                  </table>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.composition.title">Pack Composition（regional + nationwide）</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.cityPack.composition">地域向け pack と nationwide(federal_only) pack の候補順を read-only で確認します。</div>
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.composition.regionKey" data-dict-tip="ui.help.cityPack.composition.regionKey">regionKey
                      <input id="city-pack-composition-region-key" type="text" class="input-sm" data-dict-placeholder="ui.placeholder.cityPack.composition.regionKey" placeholder="tx::austin" />
                    </label>
                    <label data-dict-key="ui.label.cityPack.composition.language" data-dict-tip="ui.help.cityPack.composition.language">language
                      <input id="city-pack-composition-language" type="text" class="input-sm" value="ja" />
                    </label>
                    <label data-dict-key="ui.label.cityPack.composition.limit" data-dict-tip="ui.help.cityPack.composition.limit">件数
                      <input id="city-pack-composition-limit" type="number" min="1" max="200" value="30" class="input-sm" />
                    </label>
                    <button id="city-pack-composition-reload" type="button" data-dict-key="ui.label.cityPack.composition.reload">Composition更新</button>
                  </div>
                  <div id="city-pack-composition-summary" class="note" data-dict-key="ui.desc.cityPack.compositionSummary">Composition: 読み込み待ち</div>
                  <div id="city-pack-composition-readiness" class="note" data-dict-key="ui.desc.cityPack.compositionReadiness">Readiness: 読み込み待ち</div>
                  <div id="city-pack-composition-fallback" class="note" data-dict-key="ui.desc.cityPack.compositionFallback">Fallback summary: 読み込み待ち</div>
                  <div class="table-scroll">
                    <table class="table-compact">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.cityPack.composition.col.packClass">packClass</th>
                          <th data-dict-key="ui.label.cityPack.composition.col.language">language</th>
                          <th data-dict-key="ui.label.cityPack.composition.col.policy">policy</th>
                          <th data-dict-key="ui.label.cityPack.composition.col.reason">reason</th>
                          <th data-dict-key="ui.label.cityPack.composition.col.name">name</th>
                          <th data-dict-key="ui.label.cityPack.composition.col.cityPackId">cityPackId</th>
                          <th data-dict-key="ui.label.cityPack.composition.col.updatedAt">updatedAt</th>
                        </tr>
                      </thead>
                      <tbody id="city-pack-composition-rows"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div class="pane-detail">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.requestDetail">Request Detail</div>
                <div class="panel-body">
                  <div id="city-pack-request-summary" class="note" data-dict-key="ui.desc.cityPack.requestDetailEmpty">Requestの行を選択すると詳細を表示します。</div>
                  <div class="note row row-top">
                    <span data-dict-key="ui.label.cityPack.structure.packId">対象Draft</span>
                    <span id="city-pack-structure-pack-id">-</span>
                  </div>
                  <details class="section">
                    <summary data-dict-key="ui.label.cityPack.structure.editor">Rule Pack / Slots</summary>
                    <div class="input-grid">
                      <div class="note">
                        <label data-dict-key="ui.label.cityPack.structure.basePackId" data-dict-tip="ui.help.cityPack.structure.basePackId">basePackId</label>
                        <input id="city-pack-structure-base-pack-id" class="input-sm" placeholder="cp_xxx" />
                      </div>
                      <div class="note">
                        <label data-dict-key="ui.label.cityPack.structure.targeting">targetingRules(JSON)</label>
                        <textarea id="city-pack-structure-targeting" class="textarea-code" placeholder="[]"></textarea>
                      </div>
                      <div class="note">
                        <label data-dict-key="ui.label.cityPack.structure.slots">slots(JSON)</label>
                        <textarea id="city-pack-structure-slots" class="textarea-code" placeholder="[]"></textarea>
                      </div>
                    </div>
                    <div class="row row-top">
                      <button id="city-pack-structure-save" type="button" data-dict-key="ui.label.cityPack.structure.save">構造を保存</button>
                    </div>
                  </details>
                  <details class="section">
                    <summary data-dict-key="ui.label.cityPack.requestDetail.raw">RAW</summary>
                    <pre id="city-pack-request-raw">-</pre>
                  </details>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.feedbackDetail">Feedback Detail</div>
                <div class="panel-body">
                  <div id="city-pack-feedback-summary" class="note" data-dict-key="ui.desc.cityPack.feedbackDetailEmpty">Feedbackの行を選択すると詳細を表示します。</div>
                  <details class="section">
                    <summary data-dict-key="ui.label.cityPack.feedbackDetail.raw">RAW</summary>
                    <pre id="city-pack-feedback-raw">-</pre>
                  </details>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.bulletinDraft">Change Bulletin Draft</div>
                <div class="panel-body">
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.bulletinDraft.cityPackId" data-dict-tip="ui.help.cityPack.bulletinDraft.cityPackId">cityPackId
                      <input id="city-pack-bulletin-city-pack-id" class="input-sm" data-dict-placeholder="ui.placeholder.cityPack.bulletinCityPackId" placeholder="cp_xxx" />
                    </label>
                    <label data-dict-key="ui.label.cityPack.bulletinDraft.notificationId" data-dict-tip="ui.help.cityPack.bulletinDraft.notificationId">notificationId
                      <input id="city-pack-bulletin-notification-id" class="input-sm" data-dict-placeholder="ui.placeholder.cityPack.bulletinNotificationId" placeholder="n_xxx" />
                    </label>
                  </div>
                  <div class="note">
                    <label data-dict-key="ui.label.cityPack.bulletinDraft.summary" data-dict-tip="ui.help.cityPack.bulletinDraft.summary">summary
                      <input id="city-pack-bulletin-summary" class="input-sm" data-dict-placeholder="ui.placeholder.cityPack.bulletinSummary" placeholder="短い変更要約" />
                    </label>
                  </div>
                  <div class="row row-top">
                    <button id="city-pack-bulletin-create" type="button" data-role="admin" data-dict-key="ui.label.cityPack.bulletinDraft.create">Bulletin作成</button>
                  </div>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.proposalDraft">Update Proposal Draft</div>
                <div class="panel-body">
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.proposalDraft.cityPackId" data-dict-tip="ui.help.cityPack.proposalDraft.cityPackId">cityPackId
                      <input id="city-pack-proposal-city-pack-id" class="input-sm" data-dict-placeholder="ui.placeholder.cityPack.proposalCityPackId" placeholder="cp_xxx" />
                    </label>
                    <label data-dict-key="ui.label.cityPack.proposalDraft.summary" data-dict-tip="ui.help.cityPack.proposalDraft.summary">summary
                      <input id="city-pack-proposal-summary" class="input-sm" data-dict-placeholder="ui.placeholder.cityPack.proposalSummary" placeholder="変更要約" />
                    </label>
                  </div>
                  <div class="note">
                    <label data-dict-key="ui.label.cityPack.proposalDraft.patch" data-dict-tip="ui.help.cityPack.proposalDraft.patch">proposalPatch(JSON)
                      <textarea id="city-pack-proposal-patch" class="textarea-code" data-dict-placeholder="ui.placeholder.cityPack.proposalPatch" placeholder="{ }"></textarea>
                    </label>
                  </div>
                  <div class="row row-top">
                    <button id="city-pack-proposal-create" type="button" data-role="admin" data-dict-key="ui.label.cityPack.proposalDraft.create">Proposal作成</button>
                  </div>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.bulletinDetail">Bulletin Detail</div>
                <div class="panel-body">
                  <div id="city-pack-bulletin-detail-summary" class="note" data-dict-key="ui.desc.cityPack.bulletinDetailEmpty">Bulletinの行を選択すると詳細を表示します。</div>
                  <details class="section">
                    <summary data-dict-key="ui.label.cityPack.bulletinDetail.raw">RAW</summary>
                    <pre id="city-pack-bulletin-raw">-</pre>
                  </details>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.proposalDetail">Proposal Detail</div>
                <div class="panel-body">
                  <div id="city-pack-proposal-detail-summary" class="note" data-dict-key="ui.desc.cityPack.proposalDetailEmpty">Proposalの行を選択すると詳細を表示します。</div>
                  <details class="section">
                    <summary data-dict-key="ui.label.cityPack.proposalDetail.raw">RAW</summary>
                    <pre id="city-pack-proposal-raw">-</pre>
                  </details>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.templateLibrary">Template Library</div>
                <div class="panel-body">
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.templateLibrary.status" data-dict-tip="ui.help.cityPack.templateLibrary.status">状態
                      <select id="city-pack-template-library-status-filter" class="select-inline">
                        <option value="" data-dict-key="ui.value.cityPack.templateLibrary.status.all">すべて</option>
                        <option value="draft" data-dict-key="ui.value.cityPack.templateLibrary.status.draft">下書き</option>
                        <option value="active" data-dict-key="ui.value.cityPack.templateLibrary.status.active">有効</option>
                        <option value="retired" data-dict-key="ui.value.cityPack.templateLibrary.status.retired">廃止</option>
                      </select>
                    </label>
                    <label data-dict-key="ui.label.cityPack.templateLibrary.limit" data-dict-tip="ui.help.cityPack.templateLibrary.limit">件数
                      <input id="city-pack-template-library-limit" type="number" min="1" max="200" value="50" class="input-sm" />
                    </label>
                    <button id="city-pack-template-library-reload" type="button" data-dict-key="ui.label.cityPack.templateLibrary.reload">Template一覧を更新</button>
                  </div>
                  <div id="city-pack-template-library-summary" class="note" data-dict-key="ui.desc.cityPack.templateLibrarySummary">Template一覧: 読み込み待ち</div>
                  <div class="table-scroll">
                    <table class="table-compact">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.cityPack.templateLibrary.col.status">status</th>
                          <th data-dict-key="ui.label.cityPack.templateLibrary.col.name">name</th>
                          <th data-dict-key="ui.label.cityPack.templateLibrary.col.schemaVersion">schemaVersion</th>
                          <th data-dict-key="ui.label.cityPack.templateLibrary.col.source">source</th>
                          <th data-dict-key="ui.label.cityPack.templateLibrary.col.traceId">traceId</th>
                          <th data-dict-key="ui.label.cityPack.templateLibrary.col.actions">actions</th>
                        </tr>
                      </thead>
                      <tbody id="city-pack-template-library-rows"></tbody>
                    </table>
                  </div>
                  <div id="city-pack-template-library-detail-summary" class="note" data-dict-key="ui.desc.cityPack.templateLibraryDetailEmpty">Templateの行を選択すると詳細を表示します。</div>
                  <details class="section">
                    <summary data-dict-key="ui.label.cityPack.templateLibrary.detailRaw">RAW</summary>
                    <pre id="city-pack-template-library-raw">-</pre>
                  </details>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.templateImportExport">Import / Export</div>
                <div class="panel-body">
                  <div class="row">
                    <label data-dict-key="ui.label.cityPack.templateExport.cityPackId" data-dict-tip="ui.help.cityPack.templateExport.cityPackId">cityPackId
                      <input id="city-pack-template-export-pack-id" class="input-sm" data-dict-placeholder="ui.placeholder.cityPack.templateExport.cityPackId" placeholder="cp_xxx" />
                    </label>
                    <button id="city-pack-template-export-run" type="button" data-role="admin" data-dict-key="ui.label.cityPack.templateExport.run">Templateを出力</button>
                    <button id="city-pack-template-library-create" type="button" data-role="admin" data-dict-key="ui.label.cityPack.templateLibrary.create">Templateとして保存</button>
                  </div>
                  <div class="row">
                    <button id="city-pack-template-import-dry-run" type="button" data-role="admin" data-dict-key="ui.label.cityPack.templateImport.dryRun">Import Dry Run</button>
                    <button id="city-pack-template-import-apply" type="button" data-role="admin" data-dict-key="ui.label.cityPack.templateImport.apply">Import Apply</button>
                  </div>
                  <div class="input-grid row-top">
                    <div class="note">
                      <label data-dict-key="ui.label.cityPack.templateImport.planHash">planHash</label>
                      <input id="city-pack-template-import-plan-hash" class="input-sm" readonly />
                    </div>
                    <div class="note">
                      <label data-dict-key="ui.label.cityPack.templateImport.confirmToken">confirmToken</label>
                      <input id="city-pack-template-import-confirm-token" class="input-sm" readonly />
                    </div>
                  </div>
                  <div id="city-pack-template-import-summary" class="note" data-dict-key="ui.desc.cityPack.templateImportSummary">Template import/export: 操作待ち</div>
                  <label class="note" data-dict-key="ui.label.cityPack.templateImport.templateJson" data-dict-tip="ui.help.cityPack.templateImport.templateJson">template(JSON)
                    <textarea id="city-pack-template-json" class="textarea-code" data-dict-placeholder="ui.placeholder.cityPack.templateImport.templateJson" placeholder="{ }"></textarea>
                  </label>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.cityPack.evidenceViewer">Evidence Viewer</div>
                <div class="panel-body">
                  <div id="city-pack-evidence-summary" class="note" data-dict-key="ui.desc.cityPack.evidence.empty">Inboxの行を選択すると証跡を表示します。</div>
                  <details class="section" open>
                    <summary data-dict-key="ui.label.cityPack.evidence.compare">スクリーンショット比較</summary>
                    <pre id="city-pack-evidence-screenshots">-</pre>
                  </details>
                  <details class="section" open>
                    <summary data-dict-key="ui.label.cityPack.evidence.http">HTTP情報</summary>
                    <pre id="city-pack-evidence-http">-</pre>
                  </details>
                  <details class="section">
                    <summary data-dict-key="ui.label.cityPack.evidence.diff">差分要約（LLM補助）</summary>
                    <pre id="city-pack-evidence-diff">-</pre>
                  </details>
                  <details class="section">
                    <summary data-dict-key="ui.label.cityPack.evidence.impacted">影響CityPack一覧</summary>
                    <pre id="city-pack-evidence-impacted">-</pre>
                  </details>
                </div>
              </div>
            </div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.cityPack.actions">監査ジョブの実行結果は追跡ID付きで保存されます。</div>
                  <div class="note">
                    <label data-dict-key="ui.label.cityPack.runMode" data-dict-tip="ui.help.cityPack.runMode">監査モード</label>
                    <select id="city-pack-run-mode" class="select-inline">
                      <option value="light" data-dict-key="ui.value.cityPack.runMode.light">軽監査</option>
                      <option value="heavy" data-dict-key="ui.value.cityPack.runMode.heavy">重監査</option>
                    </select>
                  </div>
                  <div class="row row-top">
                    <button id="city-pack-run-audit" type="button" data-dict-key="ui.label.cityPack.runAudit">監査ジョブ実行</button>
                    <button id="city-pack-runs-reload" type="button" data-dict-key="ui.label.cityPack.runsReload">実行履歴を更新</button>
                    <button id="city-pack-open-trace" type="button" data-dict-key="ui.label.cityPack.openTrace">追跡IDで証跡を開く</button>
                  </div>
                  <div id="city-pack-safe-step" class="safe-next-step" data-dict-key="ui.desc.cityPack.safeStep">次の安全な一手: Confirm候補を確認して期限を更新する</div>
                  <details class="section">
                    <summary data-dict-key="ui.label.cityPack.sourcePolicy">情報源ポリシー</summary>
                    <div class="note row row-top">
                      <span data-dict-key="ui.label.cityPack.sourcePolicy.sourceRefId">対象sourceRef</span>
                      <span id="city-pack-source-policy-source-ref-id">-</span>
                    </div>
                    <div class="row">
                      <label data-dict-key="ui.label.cityPack.sourceType" data-dict-tip="ui.help.cityPack.sourceType">sourceType
                        <select id="city-pack-source-type" class="select-inline">
                          <option value="official" data-dict-key="ui.value.cityPack.sourceType.official">official</option>
                          <option value="semi_official" data-dict-key="ui.value.cityPack.sourceType.semiOfficial">semi_official</option>
                          <option value="community" data-dict-key="ui.value.cityPack.sourceType.community">community</option>
                          <option value="other" data-dict-key="ui.value.cityPack.sourceType.other">other</option>
                        </select>
                      </label>
                      <label data-dict-key="ui.label.cityPack.requiredLevel" data-dict-tip="ui.help.cityPack.requiredLevel">requiredLevel
                        <select id="city-pack-required-level" class="select-inline">
                          <option value="required" data-dict-key="ui.value.cityPack.requiredLevel.required">required</option>
                          <option value="optional" data-dict-key="ui.value.cityPack.requiredLevel.optional">optional</option>
                        </select>
                      </label>
                      <label data-dict-key="ui.label.cityPack.authorityLevel" data-dict-tip="ui.help.cityPack.authorityLevel">authorityLevel
                        <select id="city-pack-authority-level" class="select-inline">
                          <option value="federal" data-dict-key="ui.value.cityPack.authorityLevel.federal">federal</option>
                          <option value="state" data-dict-key="ui.value.cityPack.authorityLevel.state">state</option>
                          <option value="local" data-dict-key="ui.value.cityPack.authorityLevel.local">local</option>
                          <option value="other" data-dict-key="ui.value.cityPack.authorityLevel.other">other</option>
                        </select>
                      </label>
                      <button id="city-pack-source-policy-save" type="button" data-dict-key="ui.label.cityPack.sourcePolicy.save">ポリシー保存</button>
                    </div>
                  </details>
                  <div class="note" id="city-pack-runs-summary" data-dict-key="ui.desc.cityPack.runsSummary">実行履歴: 読み込み待ち</div>
                  <details class="section" open>
                    <summary data-dict-key="ui.label.cityPack.runResult">実行結果</summary>
                    <div class="note">
                      <label data-dict-key="ui.label.cityPack.runDetail.limit" data-dict-tip="ui.help.cityPack.runDetail.limit">証跡表示件数</label>
                      <input id="city-pack-run-detail-limit" type="number" min="1" max="200" value="50" class="input-sm" />
                    </div>
	                    <div class="note" id="city-pack-run-detail-summary" data-dict-key="ui.desc.cityPack.runDetail.empty">実行履歴の行を選択すると詳細を表示します。</div>
	                    <div class="table-scroll">
	                      <table class="table-compact">
	                        <thead>
	                          <tr>
	                            <th data-dict-key="ui.label.cityPack.runDetail.col.evidence">証跡ID</th>
	                            <th data-dict-key="ui.label.cityPack.runDetail.col.result">結果</th>
	                            <th data-dict-key="ui.label.cityPack.runDetail.col.checkedAt">確認日時</th>
	                            <th data-dict-key="ui.label.cityPack.runDetail.col.statusCode">HTTP</th>
	                            <th data-dict-key="ui.label.cityPack.runDetail.col.action">表示</th>
	                          </tr>
	                        </thead>
	                        <tbody id="city-pack-run-detail-rows"></tbody>
	                      </table>
	                    </div>
                    <details class="section">
                      <summary data-dict-key="ui.label.cityPack.runDetail.raw">RAW</summary>
                      <pre id="city-pack-run-result">-</pre>
                    </details>
                  </details>
	                  <details class="section" open>
	                    <summary data-dict-key="ui.label.cityPack.runs">実行履歴</summary>
	                    <div class="table-scroll">
	                      <table class="table-compact">
	                        <thead>
                          <tr>
                            <th data-dict-key="ui.label.cityPack.runs.col.runId">runId</th>
                            <th data-dict-key="ui.label.cityPack.runs.col.mode">mode</th>
                            <th data-dict-key="ui.label.cityPack.runs.col.stage">stage</th>
                            <th data-dict-key="ui.label.cityPack.runs.col.startedAt">startedAt</th>
                            <th data-dict-key="ui.label.cityPack.runs.col.result">result</th>
                            <th data-dict-key="ui.label.cityPack.runs.col.processed">processed</th>
                            <th data-dict-key="ui.label.cityPack.runs.col.confidence">confidence</th>
                            <th data-dict-key="ui.label.cityPack.runs.col.traceId">traceId</th>
                          </tr>
	                        </thead>
	                        <tbody id="city-pack-run-rows"></tbody>
	                      </table>
	                    </div>
	                  </details>
                </div>
              </div>
            </aside>
          </div>
          </details>
        </section>

        <section id="pane-errors" class="app-pane" data-pane="errors">
          <div class="decision-card" id="errors-decision-card">
            <div class="decision-card-header">
              <div class="decision-title" data-dict-key="ui.label.nav.errors">異常対応</div>
              <span id="errors-decision-state" class="decision-state state-ready">READY</span>
            </div>
            <div id="errors-decision-reason1" class="decision-reason">-</div>
            <div id="errors-decision-reason2" class="decision-reason">-</div>
            <div class="decision-updated">
              <span data-dict-key="ui.label.decision.updatedAt">最終更新</span>
              <span id="errors-decision-updated">-</span>
            </div>
            <div class="decision-actions">
              <button id="errors-action-edit" type="button" class="decision-action-btn" data-action-kind="primary" data-dict-key="ui.label.decision.action.createEdit">作成・編集</button>
              <button id="errors-action-activate" type="button" class="decision-action-btn" data-action-kind="secondary" data-dict-key="ui.label.decision.action.activate">有効化・公開</button>
              <button id="errors-action-disable" type="button" class="decision-action-btn" data-action-kind="tertiary" data-dict-key="ui.label.decision.action.disable">停止・無効化</button>
            </div>
          </div>
          <details id="errors-pane-details" class="decision-details section">
            <summary data-dict-key="ui.label.decision.details">詳細</summary>
            <div class="pane-grid">
            <div class="pane-main">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.errors.recovery">復旧パネル</div>
                <div class="panel-body">
                  <div class="summary-metrics">
                    <div><span class="metric-label" data-dict-key="ui.label.errors.problems">今ある問題</span><span id="errors-problems" class="metric-value">0</span></div>
                    <div><span class="metric-label" data-dict-key="ui.label.errors.recommend">推奨アクション</span><span id="errors-recommend" class="metric-value">-</span></div>
                  </div>
                  <button id="errors-to-ops" type="button" data-dict-key="ui.label.errors.toOps">Opsで復旧する</button>
                </div>
              </div>
              <details class="table-section section" open>
                <summary data-dict-key="ui.label.errors.summary">まとめ</summary>
                <pre id="errors-summary">-</pre>
              </details>
	              <details class="table-section section">
	                <summary data-dict-key="ui.label.errors.warnLinks">危険リンク一覧</summary>
	                <div class="table-scroll">
	                  <table class="table-compact">
	                    <thead>
	                      <tr>
	                        <th data-dict-key="ui.label.errors.linkId" data-dict-tip="ui.help.errors.linkId">リンクID</th>
	                        <th data-dict-key="ui.label.errors.linkTitle" data-dict-tip="ui.help.errors.linkTitle">タイトル</th>
	                        <th data-dict-key="ui.label.errors.linkUrl" data-dict-tip="ui.help.errors.linkUrl">リンク先</th>
	                        <th data-dict-key="ui.label.errors.linkChecked" data-dict-tip="ui.help.errors.linkChecked">最終確認</th>
	                      </tr>
	                    </thead>
	                    <tbody id="errors-warn-rows"></tbody>
	                  </table>
	                </div>
	              </details>
	              <details class="table-section section">
	                <summary data-dict-key="ui.label.errors.retryQueue">再送待ち一覧</summary>
	                <div class="table-scroll">
	                  <table class="table-compact">
	                    <thead>
	                      <tr>
	                        <th data-dict-key="ui.label.errors.queueId" data-dict-tip="ui.help.errors.queueId">キューID</th>
	                        <th data-dict-key="ui.label.errors.lineUserId" data-dict-tip="ui.help.errors.lineUserId">LINEユーザーID</th>
	                        <th data-dict-key="ui.label.errors.template" data-dict-tip="ui.help.errors.template">テンプレ</th>
	                        <th data-dict-key="ui.label.errors.lastError" data-dict-tip="ui.help.errors.lastError">最終エラー</th>
	                        <th data-dict-key="ui.label.errors.updatedAt" data-dict-tip="ui.help.errors.updatedAt">更新日時</th>
	                      </tr>
	                    </thead>
	                    <tbody id="errors-retry-rows"></tbody>
	                  </table>
	                </div>
	              </details>
            </div>
            <div class="pane-detail">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.errors.safeStep">次にやる安全な1手</div>
                <div class="panel-body">
                  <div id="errors-safe-step" class="safe-next-step" data-dict-key="ui.desc.errors.safeStepDefault">更新を押して、最新の送信できなかった理由を確認する</div>
                </div>
              </div>
            </div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.errors.actions">危険リンクと再送待ちを確認します。</div>
                  <div class="note">
                    <span data-dict-key="ui.label.traceId" data-dict-tip="ui.help.traceId">追跡ID</span>:
                    <input type="text" id="errors-trace" class="input-inline input-trace" />
                    <button id="errors-regen" type="button" data-dict-key="ui.label.trace.regen">再生成</button>
                    <span id="errors-trace-note"></span>
                  </div>
                  <div class="row row-top">
                    <button id="errors-reload" type="button" data-dict-key="ui.label.errors.reload">更新</button>
                  </div>
                  <div id="errors-skeleton" class="skeleton-stack is-hidden">
                    <div class="skeleton-line lg w-50"></div>
                    <div class="skeleton-line w-70"></div>
                    <div class="skeleton-line w-30"></div>
                  </div>
                </div>
              </div>
            </aside>
          </div>
          </details>
        </section>

        <section id="pane-read-model" class="app-pane" data-pane="read-model">
          <div class="decision-card" id="read-model-decision-card">
            <div class="decision-card-header">
              <div class="decision-title" data-dict-key="ui.label.nav.readModel">通知集計</div>
              <span id="read-model-decision-state" class="decision-state state-ready">READY</span>
            </div>
            <div id="read-model-decision-reason1" class="decision-reason">-</div>
            <div id="read-model-decision-reason2" class="decision-reason">-</div>
            <div class="decision-updated">
              <span data-dict-key="ui.label.decision.updatedAt">最終更新</span>
              <span id="read-model-decision-updated">-</span>
            </div>
            <div class="decision-actions">
              <button id="read-model-action-edit" type="button" class="decision-action-btn" data-action-kind="primary" data-dict-key="ui.label.decision.action.createEdit">作成・編集</button>
              <button id="read-model-action-activate" type="button" class="decision-action-btn" data-action-kind="secondary" data-dict-key="ui.label.decision.action.activate">有効化・公開</button>
              <button id="read-model-action-disable" type="button" class="decision-action-btn" data-action-kind="tertiary" data-dict-key="ui.label.decision.action.disable">停止・無効化</button>
            </div>
          </div>
          <details id="read-model-pane-details" class="decision-details section">
            <summary data-dict-key="ui.label.decision.details">詳細</summary>
            <div class="pane-grid">
            <div class="pane-main">
              <div class="panel">
                <div class="panel-title">ユーザー一覧</div>
                <div class="panel-body">
                  <div class="input-grid">
                    <div class="row">
                      <div class="flex-1">
                        <label for="users-filter-line-user-id">ユーザーID</label>
                        <input id="users-filter-line-user-id" type="text" />
                      </div>
                      <div class="flex-1">
                        <label for="users-filter-created-from">登録期間（from）</label>
                        <input id="users-filter-created-from" type="date" />
                      </div>
                      <div class="flex-1">
                        <label for="users-filter-created-to">登録期間（to）</label>
                        <input id="users-filter-created-to" type="date" />
                      </div>
                    </div>
                    <div class="row">
                      <div class="flex-1">
                        <label for="users-filter-category">カテゴリ</label>
                        <select id="users-filter-category">
                          <option value="">すべて</option>
                          <option value="A">A単身</option>
                          <option value="B">B夫婦</option>
                          <option value="C">C帯同1</option>
                          <option value="D">D帯同2</option>
                        </select>
                      </div>
                      <div class="flex-1">
                        <label for="users-filter-status">ステータス</label>
                        <select id="users-filter-status">
                          <option value="">すべて</option>
                          <option value="赴任前">赴任前</option>
                          <option value="着任中">着任中</option>
                          <option value="着任後">着任後</option>
                          <option value="赴任中">赴任中</option>
                          <option value="帰任前">帰任前</option>
                        </select>
                      </div>
                      <div class="flex-1">
                        <label for="users-filter-plan">Plan</label>
                        <select id="users-filter-plan">
                          <option value="">all</option>
                          <option value="free">free</option>
                          <option value="pro">pro</option>
                        </select>
                      </div>
                      <div class="flex-1">
                        <label for="users-filter-subscription-status">課金状態</label>
                        <select id="users-filter-subscription-status">
                          <option value="">all</option>
                          <option value="active">active</option>
                          <option value="trialing">trialing</option>
                          <option value="past_due">past_due</option>
                          <option value="canceled">canceled</option>
                          <option value="incomplete">incomplete</option>
                          <option value="unknown">unknown</option>
                        </select>
                      </div>
                      <div class="flex-1">
                        <label for="users-filter-billing-integrity">課金整合</label>
                        <select id="users-filter-billing-integrity">
                          <option value="">all</option>
                          <option value="ok">ok</option>
                          <option value="unknown">unknown</option>
                          <option value="conflict">conflict</option>
                        </select>
                      </div>
                      <div class="flex-1">
                        <label for="users-filter-limit">件数</label>
                        <input id="users-filter-limit" type="number" min="1" max="500" value="200" class="input-sm" />
                      </div>
                      <div class="flex-1">
                        <label for="users-filter-analytics-limit">集計上限</label>
                        <input id="users-filter-analytics-limit" type="number" min="1" max="2000" value="1200" class="input-sm" />
                      </div>
                    </div>
                  </div>
                  <div class="row row-top">
                    <button id="users-summary-reload" type="button">更新</button>
                    <button id="users-summary-analyze" type="button">Analyze</button>
                    <button id="users-summary-export" type="button">Export CSV</button>
                    <button id="users-summary-edit-columns" type="button">Edit columns</button>
                  </div>
                  <div id="users-summary-quick-filters" class="users-quick-filters">
                    <button type="button" class="users-quick-filter-pill is-active" data-users-quick-filter="all">All</button>
                    <button type="button" class="users-quick-filter-pill" data-users-quick-filter="pro_active">Pro(active)</button>
                    <button type="button" class="users-quick-filter-pill" data-users-quick-filter="free">Free</button>
                    <button type="button" class="users-quick-filter-pill" data-users-quick-filter="trialing">Trialing</button>
                    <button type="button" class="users-quick-filter-pill" data-users-quick-filter="past_due">Past_due</button>
                    <button type="button" class="users-quick-filter-pill" data-users-quick-filter="canceled">Canceled</button>
                    <button type="button" class="users-quick-filter-pill users-quick-filter-pill-unknown" data-users-quick-filter="unknown">Unknown</button>
                  </div>
                  <div id="users-summary-columns-panel" class="users-columns-panel is-hidden">
                    <div class="users-columns-panel-title">表示列</div>
                    <div class="users-columns-grid">
                      <label><input type="checkbox" data-users-column-toggle="createdAt" checked /> 登録日</label>
                      <label><input type="checkbox" data-users-column-toggle="updatedAt" checked /> 更新日</label>
                      <label><input type="checkbox" data-users-column-toggle="lineUserId" checked /> ユーザーID</label>
                      <label><input type="checkbox" data-users-column-toggle="memberNumber" checked /> 会員番号</label>
                      <label><input type="checkbox" data-users-column-toggle="category" checked /> カテゴリ</label>
                      <label><input type="checkbox" data-users-column-toggle="status" checked /> ステータス</label>
                      <label><input type="checkbox" data-users-column-toggle="plan" checked /> Plan</label>
                      <label><input type="checkbox" data-users-column-toggle="subscriptionStatus" checked /> 課金状態</label>
                      <label><input type="checkbox" data-users-column-toggle="billingIntegrity" checked /> 整合</label>
                      <label><input type="checkbox" data-users-column-toggle="currentPeriodEnd" checked /> 期限</label>
                      <label><input type="checkbox" data-users-column-toggle="llmUsage" checked /> llmUsage</label>
                      <label><input type="checkbox" data-users-column-toggle="todoProgressRate" checked /> todoProgressRate</label>
                      <label><input type="checkbox" data-users-column-toggle="llmUsageToday" checked /> usageToday</label>
                      <label><input type="checkbox" data-users-column-toggle="tokensToday" checked /> tokensToday</label>
                      <label><input type="checkbox" data-users-column-toggle="blockedRate" checked /> blockedRate</label>
                      <label><input type="checkbox" data-users-column-toggle="deliveryCount" checked /> 配信数</label>
                      <label><input type="checkbox" data-users-column-toggle="clickCount" checked /> クリック数</label>
                      <label><input type="checkbox" data-users-column-toggle="reactionRate" checked /> 反応率</label>
                    </div>
                    <div id="users-summary-analyze-result" class="note">Analyze: 操作待ち</div>
                  </div>
                  <div class="filter-bar trend-ui-only">
                    <div class="filter-chips" id="users-summary-filter-chips"></div>
                    <div class="filter-meta">
                      <span class="result-count" id="users-summary-result-count">-</span>
                      <button id="users-summary-clear" type="button" class="button-subtle filter-clear-btn" data-dict-key="ui.label.filters.clear">条件をクリア</button>
                    </div>
                  </div>
                  <table class="table-compact users-summary-table">
                    <thead>
                      <tr>
                        <th data-users-col="createdAt"><button type="button" class="table-sort-btn" data-users-sort-key="createdAt">登録日</button></th>
                        <th data-users-col="updatedAt"><button type="button" class="table-sort-btn" data-users-sort-key="updatedAt">更新日</button></th>
                        <th data-users-col="lineUserId"><button type="button" class="table-sort-btn" data-users-sort-key="lineUserId">ユーザーID</button></th>
                        <th data-users-col="memberNumber"><button type="button" class="table-sort-btn" data-users-sort-key="memberNumber">会員番号</button></th>
                        <th data-users-col="category"><button type="button" class="table-sort-btn" data-users-sort-key="category">カテゴリ</button></th>
                        <th data-users-col="status"><button type="button" class="table-sort-btn" data-users-sort-key="status">ステータス</button></th>
                        <th data-users-col="plan"><button type="button" class="table-sort-btn" data-users-sort-key="plan">Plan</button></th>
                        <th data-users-col="subscriptionStatus"><button type="button" class="table-sort-btn" data-users-sort-key="subscriptionStatus">課金状態</button></th>
                        <th data-users-col="billingIntegrity"><button type="button" class="table-sort-btn" data-users-sort-key="billingIntegrity">整合</button></th>
                        <th data-users-col="currentPeriodEnd"><button type="button" class="table-sort-btn" data-users-sort-key="currentPeriodEnd">期限</button></th>
                        <th data-users-col="llmUsage"><button type="button" class="table-sort-btn" data-users-sort-key="llmUsage">llmUsage</button></th>
                        <th data-users-col="todoProgressRate"><button type="button" class="table-sort-btn" data-users-sort-key="todoProgressRate">todoProgressRate</button></th>
                        <th data-users-col="llmUsageToday"><button type="button" class="table-sort-btn" data-users-sort-key="llmUsageToday">usageToday</button></th>
                        <th data-users-col="tokensToday"><button type="button" class="table-sort-btn" data-users-sort-key="tokensToday">tokensToday</button></th>
                        <th data-users-col="blockedRate"><button type="button" class="table-sort-btn" data-users-sort-key="blockedRate">blockedRate</button></th>
                        <th data-users-col="deliveryCount"><button type="button" class="table-sort-btn" data-users-sort-key="deliveryCount" data-dict-tip="ui.help.table.deliveryCount">配信数</button></th>
                        <th data-users-col="clickCount"><button type="button" class="table-sort-btn" data-users-sort-key="clickCount" data-dict-tip="ui.help.table.clickCount">クリック数</button></th>
                        <th data-users-col="reactionRate"><button type="button" class="table-sort-btn" data-users-sort-key="reactionRate" data-dict-tip="ui.help.readModel.ctr">反応率</button></th>
                      </tr>
                    </thead>
                    <tbody id="users-summary-rows"></tbody>
                  </table>
                </div>
              </div>
              <div class="panel read-model-legacy">
                <div class="panel-title" data-dict-key="ui.label.readModel.definition">この集計が示すもの</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.readModel.definition">直近の通知一覧について、送信結果と反応率をまとめた集計です。</div>
                </div>
              </div>
	              <details class="table-section section read-model-legacy" open>
	                <summary data-dict-key="ui.label.readModel.table">通知集計（参照）</summary>
	                <div class="table-scroll">
	                  <table class="table-compact">
	                    <thead>
	                      <tr>
	                        <th data-dict-key="ui.label.readModel.col.title" data-dict-tip="ui.help.readModel.title">タイトル</th>
	                        <th data-dict-key="ui.label.readModel.col.scenario" data-dict-tip="ui.help.readModel.scenario">シナリオ</th>
	                        <th data-dict-key="ui.label.readModel.col.step" data-dict-tip="ui.help.readModel.step">ステップ</th>
	                        <th data-dict-key="ui.label.readModel.col.target" data-dict-tip="ui.help.readModel.target">対象数</th>
	                        <th data-dict-key="ui.label.readModel.col.last" data-dict-tip="ui.help.readModel.last">最終結果</th>
	                        <th data-dict-key="ui.label.readModel.col.ctr" data-dict-tip="ui.help.readModel.ctr">反応率</th>
	                        <th data-dict-key="ui.label.readModel.col.health" data-dict-tip="ui.help.readModel.health">健康度</th>
	                      </tr>
	                    </thead>
	                    <tbody id="read-model-rows"></tbody>
	                  </table>
	                </div>
	              </details>
            </div>
            <div class="pane-detail read-model-legacy">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.readModel.summaryTip">先に見る3項目</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.readModel.tip1">要対応（反応率が低い通知）を最初に確認します。</div>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title">ユーザー詳細（課金/LLM）</div>
                <div class="panel-body">
                  <div class="note">lineUserId: <span id="users-detail-line-user-id">-</span></div>
                  <div class="note">Plan: <span id="users-detail-plan">-</span></div>
                  <div class="note">課金状態: <span id="users-detail-subscription-status">-</span></div>
                  <div class="note">currentPeriodEnd: <span id="users-detail-current-period-end">-</span></div>
                  <div class="note">最終Stripeイベント: <span id="users-detail-last-stripe-event">-</span></div>
                  <div class="note">Stripe種別/状態: <span id="users-detail-last-stripe-event-type">-</span></div>
                  <div class="note">LLM使用回数: <span id="users-detail-llm-usage-count">-</span></div>
                  <div class="note">LLMトークン使用量: <span id="users-detail-llm-token-used">-</span></div>
                  <div class="note">LLMブロック回数: <span id="users-detail-llm-blocked-count">-</span></div>
                  <div class="note">最終利用: <span id="users-detail-last-used-at">-</span></div>
                  <div class="note">ブロック履歴</div>
                  <ul id="users-detail-blocked-history" class="repo-map-list mono-list"><li>-</li></ul>
                  <div class="note">Journey 属性: <span id="users-detail-journey-household-type">-</span></div>
                  <div class="note">Journey 段階: <span id="users-detail-journey-stage">-</span></div>
                  <div class="note">渡航日: <span id="users-detail-journey-departure-date">-</span></div>
                  <div class="note">着任日: <span id="users-detail-journey-assignment-date">-</span></div>
                  <div class="note">Todo未完了: <span id="users-detail-journey-open-count">-</span></div>
                  <div class="note">Todo期限超過: <span id="users-detail-journey-overdue-count">-</span></div>
                  <div class="note">次Todo期限: <span id="users-detail-journey-next-due-at">-</span></div>
                  <div class="note">次リマインド: <span id="users-detail-journey-last-reminder-at">-</span></div>
                  <div class="note">Journey TODO（先頭5件）</div>
                  <ul id="users-detail-journey-next-todos" class="repo-map-list mono-list"><li>-</li></ul>
                </div>
              </div>
            </div>
            <aside class="pane-actions read-model-legacy">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.readModel.actions">集計結果を取得します。</div>
                  <div class="note">
                    <span data-dict-key="ui.label.traceId" data-dict-tip="ui.help.traceId">追跡ID</span>:
                    <input type="text" id="read-model-trace" class="input-inline input-trace" />
                    <button id="read-model-regen" type="button" data-dict-key="ui.label.trace.regen">再生成</button>
                    <span id="read-model-trace-note"></span>
                  </div>
                  <div class="row row-top">
                    <button id="read-model-reload" type="button" data-dict-key="ui.label.readModel.reload">更新</button>
                  </div>
                  <div id="read-model-skeleton" class="skeleton-stack is-hidden">
                    <div class="skeleton-line lg w-50"></div>
                    <div class="skeleton-line w-70"></div>
                    <div class="skeleton-line w-30"></div>
                  </div>
                </div>
              </div>
            </aside>
          </div>
          </details>
        </section>

        <section id="pane-vendors" class="app-pane" data-pane="vendors">
          <div class="decision-card" id="vendors-decision-card">
            <div class="decision-card-header">
              <div class="decision-title" data-dict-key="ui.label.nav.vendors">Vendor Hub</div>
              <span id="vendors-decision-state" class="decision-state state-ready">READY</span>
            </div>
            <div id="vendors-decision-reason1" class="decision-reason">-</div>
            <div id="vendors-decision-reason2" class="decision-reason">-</div>
            <div class="decision-updated">
              <span data-dict-key="ui.label.decision.updatedAt">最終更新</span>
              <span id="vendors-decision-updated">-</span>
            </div>
            <div class="decision-actions">
              <button id="vendors-action-edit" type="button" class="decision-action-btn" data-action-kind="primary" data-dict-key="ui.label.decision.action.createEdit">作成・編集</button>
              <button id="vendors-action-activate" type="button" class="decision-action-btn" data-action-kind="secondary" data-dict-key="ui.label.decision.action.activate">有効化・公開</button>
              <button id="vendors-action-disable" type="button" class="decision-action-btn" data-action-kind="tertiary" data-dict-key="ui.label.decision.action.disable">停止・無効化</button>
            </div>
          </div>
          <details id="vendors-pane-details" class="decision-details section">
            <summary data-dict-key="ui.label.decision.details">詳細</summary>
            <div class="panel unified-admin-panel vendors-unified-panel">
              <div class="panel-title">Vendor一覧</div>
              <div class="panel-body">
                <div class="input-grid">
                  <div class="row">
                    <div class="flex-1">
                      <label for="vendor-unified-filter-id">Vendor ID</label>
                      <input id="vendor-unified-filter-id" type="text" />
                    </div>
                    <div class="flex-1">
                      <label for="vendor-unified-filter-name">名称</label>
                      <input id="vendor-unified-filter-name" type="text" />
                    </div>
                    <div class="flex-1">
                      <label for="vendor-unified-filter-status">ステータス</label>
                      <select id="vendor-unified-filter-status">
                        <option value="">すべて</option>
                        <option value="OK">OK</option>
                        <option value="WARN">WARN</option>
                        <option value="DEAD">DEAD</option>
                        <option value="UNKNOWN">UNKNOWN</option>
                      </select>
                    </div>
                    <div class="flex-1">
                      <label for="vendor-unified-filter-category">カテゴリ</label>
                      <input id="vendor-unified-filter-category" type="text" />
                    </div>
                  </div>
                  <div class="row">
                    <div class="flex-1">
                      <label for="vendor-unified-filter-date-from">登録日 from</label>
                      <input id="vendor-unified-filter-date-from" type="date" />
                    </div>
                    <div class="flex-1">
                      <label for="vendor-unified-filter-date-to">登録日 to</label>
                      <input id="vendor-unified-filter-date-to" type="date" />
                    </div>
                  </div>
                </div>
                <div class="row row-top">
                  <button id="vendor-unified-reload" type="button">更新</button>
                </div>
                <div class="filter-bar trend-ui-only">
                  <div class="filter-chips" id="vendor-unified-filter-chips"></div>
                  <div class="filter-meta">
                    <span class="result-count" id="vendor-unified-result-count">-</span>
                    <button id="vendor-unified-clear" type="button" class="button-subtle filter-clear-btn" data-dict-key="ui.label.filters.clear">条件をクリア</button>
                  </div>
                </div>
                <div class="table-scroll">
                  <table class="table-compact vendors-unified-table">
                    <thead>
                      <tr>
                        <th><button type="button" class="table-sort-btn" data-vendor-sort-key="createdAt">登録日</button></th>
                        <th><button type="button" class="table-sort-btn" data-vendor-sort-key="linkId">ID</button></th>
                        <th><button type="button" class="table-sort-btn" data-vendor-sort-key="vendorLabel">名称</button></th>
                        <th><button type="button" class="table-sort-btn" data-vendor-sort-key="category">カテゴリ</button></th>
                        <th><button type="button" class="table-sort-btn" data-vendor-sort-key="status">状態</button></th>
                        <th><button type="button" class="table-sort-btn" data-vendor-sort-key="updatedAt">最終更新</button></th>
                        <th><button type="button" class="table-sort-btn" data-vendor-sort-key="relatedCount" data-dict-tip="ui.help.vendors.relatedCount">関連件数</button></th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="vendor-unified-rows"></tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="pane-grid vendors-legacy-block">
              <div class="pane-main">
		                <details class="table-section section" open>
	                  <summary data-dict-key="ui.label.vendors.table">Vendor一覧</summary>
	                  <div class="table-scroll">
	                    <table class="table-compact">
	                      <thead>
	                        <tr>
	                          <th data-dict-key="ui.label.vendors.col.vendor">Vendor</th>
	                          <th data-dict-key="ui.label.vendors.col.state">状態</th>
	                          <th data-dict-key="ui.label.vendors.col.lastChecked">最終確認</th>
	                          <th data-dict-key="ui.label.vendors.col.linkId">リンクID</th>
	                        </tr>
	                      </thead>
	                      <tbody id="vendor-rows"></tbody>
	                    </table>
	                  </div>
	                </details>
              </div>
              <div class="pane-detail">
                <div class="panel">
                  <div class="panel-title" data-dict-key="ui.label.vendors.detail">詳細</div>
                  <div class="panel-body">
                    <div id="vendor-detail" class="note">行を選択すると詳細を表示します。</div>
                    <details>
                      <summary data-dict-key="ui.label.vendors.raw">RAW JSON</summary>
                      <pre id="vendor-raw">-</pre>
                    </details>
                  </div>
                </div>
              </div>
              <aside class="pane-actions">
                <div class="action-panel">
                  <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                  <div class="panel-body">
                    <div class="note">
                      <span data-dict-key="ui.label.traceId" data-dict-tip="ui.help.traceId">追跡ID</span>:
                      <input type="text" id="vendor-trace" class="input-inline input-trace" />
                      <button id="vendor-regen" type="button" data-dict-key="ui.label.trace.regen">再生成</button>
                      <span id="vendor-trace-note"></span>
                    </div>
                    <div class="note">
                      <label data-dict-key="ui.label.vendors.state" data-dict-tip="ui.help.vendors.state">状態</label>
                      <input id="vendor-state" class="input-inline input-sm" />
                      <label data-dict-key="ui.label.vendors.limit" data-dict-tip="ui.help.vendors.limit">件数</label>
                      <input id="vendor-limit" type="number" min="1" max="200" value="50" class="input-inline input-sm" />
                    </div>
                    <div class="row row-top">
                      <button id="vendor-reload" type="button" data-dict-key="ui.label.vendors.reload">更新</button>
                    </div>
                    <div class="row row-top">
                      <button id="vendor-edit" type="button" data-dict-key="ui.label.vendors.edit">作成・編集</button>
                      <button id="vendor-activate" type="button" data-dict-key="ui.label.vendors.activate">有効化・公開</button>
                      <button id="vendor-disable" type="button" data-dict-key="ui.label.vendors.disable">停止・無効化</button>
                    </div>
                    <div id="vendor-skeleton" class="skeleton-stack is-hidden">
                      <div class="skeleton-line lg w-50"></div>
                      <div class="skeleton-line w-70"></div>
                      <div class="skeleton-line w-30"></div>
                    </div>
                  </div>
                </div>
              </aside>
            </div>
          </details>
        </section>

        <section id="pane-audit" class="app-pane" data-pane="audit">
          <div class="pane-grid">
            <div class="pane-main">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.audit.search">監査検索</div>
                <div class="panel-body">
                  <div class="note">
                    <span data-dict-key="ui.label.traceId" data-dict-tip="ui.help.traceId">追跡ID</span>:
                    <input type="text" id="audit-trace" class="input-inline input-trace" />
                    <button id="audit-search" type="button" data-dict-key="ui.label.audit.searchBtn">検索</button>
                    <span id="audit-note"></span>
                  </div>
                  <pre id="audit-result">-</pre>
                </div>
              </div>
            </div>
            <div class="pane-detail">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.audit.detail">詳細</div>
                <div class="panel-body">
                  <pre id="audit-detail">-</pre>
                </div>
              </div>
              <div class="panel" data-role="admin">
                <div class="panel-title" data-dict-key="ui.label.structDrift.title">構造ドリフト補正</div>
                <div class="panel-body">
                  <div class="note">
                    <label data-dict-key="ui.label.structDrift.scanLimit">scan limit</label>
                    <input id="struct-drift-scan-limit" type="number" min="1" max="5000" value="500" class="input-inline input-sm" />
                    <label data-dict-key="ui.label.structDrift.resumeAfter">resume user id</label>
                    <input id="struct-drift-resume-after" class="input-inline input-sm" />
                  </div>
                  <div class="row row-top">
                    <button id="struct-drift-run-dry" type="button" data-dict-key="ui.label.structDrift.runDry">Dry Run</button>
                    <button id="struct-drift-run-apply" type="button" data-dict-key="ui.label.structDrift.runApply">Apply</button>
                    <button id="struct-drift-runs-reload" type="button" data-dict-key="ui.label.structDrift.runsReload">実行履歴更新</button>
                  </div>
                  <div id="struct-drift-summary" class="note" data-dict-key="ui.desc.structDrift.summary">実行履歴: 読み込み待ち</div>
                  <div class="table-wrap table-section">
                    <table class="table table-compact retention-runs-table">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.structDrift.table.createdAt">実行時刻</th>
                          <th data-dict-key="ui.label.structDrift.table.mode">モード</th>
                          <th data-dict-key="ui.label.structDrift.table.changed">更新件数</th>
                          <th data-dict-key="ui.label.structDrift.table.trace">追跡ID</th>
                        </tr>
                      </thead>
                      <tbody id="struct-drift-runs-rows"></tbody>
                    </table>
                  </div>
                  <details class="section">
                    <summary data-dict-key="ui.label.structDrift.result">実行結果</summary>
                    <pre id="struct-drift-result">-</pre>
                  </details>
                </div>
              </div>
            </div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <p class="note" data-dict-key="ui.desc.audit.actions">traceIdで証跡を確認します。</p>
                </div>
              </div>
            </aside>
          </div>
        </section>

        <section id="pane-developer-map" class="app-pane" data-pane="developer-map" data-role="admin" data-role-allow="admin,developer">
          <div class="pane-grid">
            <div class="pane-main">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.developer.repoMap">Repo Map（全体像）</div>
                <div class="panel-body repo-map-overview">
                  <div class="repo-map-heading" data-dict-key="ui.label.developer.systemOverview">システム全体像</div>
                  <p id="repo-map-overview-line1" class="repo-map-line">-</p>
                  <p id="repo-map-overview-line2" class="repo-map-line">-</p>
                  <p id="repo-map-overview-line3" class="repo-map-line">-</p>
                  <div class="repo-map-meta">
                    <div>
                      <span class="metric-label" data-dict-key="ui.label.developer.version">バージョン</span>
                      <span id="repo-map-version" class="metric-value">-</span>
                    </div>
                    <div>
                      <span class="metric-label" data-dict-key="ui.label.developer.updatedAt">最終更新日</span>
                      <span id="repo-map-generated-at" class="metric-value">-</span>
                    </div>
                    <div>
                      <span class="metric-label" data-dict-key="ui.label.developer.testCount">テスト件数</span>
                      <span id="repo-map-test-count" class="metric-value">-</span>
                    </div>
                  </div>
                  <div class="row row-top">
                    <button id="repo-map-reload" type="button" data-dict-key="ui.label.developer.reload">Repo Map更新</button>
                  </div>
                  <p id="repo-map-schema-note" class="cell-muted">-</p>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.developer.categories">機能カード一覧</div>
                <div id="repo-map-categories" class="repo-map-categories"></div>
              </div>
              <div class="panel">
                <div class="panel-title">開発ToDoカード</div>
                <div id="repo-map-todo-cards" class="repo-map-todo-list"></div>
              </div>
            </div>
            <div class="pane-detail">
              <div id="developer-map-implementation" class="panel">
                <div class="panel-title" data-dict-key="ui.label.developer.implementation">実装状況</div>
                <div class="panel-body">
                  <div class="repo-map-meta">
                    <div>
                      <span class="metric-label" data-dict-key="ui.label.developer.completed">実装済み</span>
                      <span id="repo-map-implemented-count" class="metric-value">-</span>
                    </div>
                    <div>
                      <span class="metric-label" data-dict-key="ui.label.developer.legacy">非推奨</span>
                      <span id="repo-map-legacy-count" class="metric-value">-</span>
                    </div>
                    <div>
                      <span class="metric-label" data-dict-key="ui.label.developer.lastCommit">直近コミット</span>
                      <span id="repo-map-last-commit" class="metric-value metric-truncate">-</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.developer.matrix">ステップ通知マップ</div>
                <div class="panel-body">
                  <div class="table-wrap">
                    <table class="table table-compact repo-map-matrix-table">
                      <thead id="repo-map-matrix-head"></thead>
                      <tbody id="repo-map-matrix-rows"></tbody>
                    </table>
                  </div>
                  <div id="repo-map-matrix-note" class="cell-muted" data-dict-key="ui.desc.developer.matrixNotAvailable">実データ不足のため NOT AVAILABLE を表示します。</div>
                </div>
              </div>
              <div id="developer-map-legacy" class="panel">
                <div class="panel-title" data-dict-key="ui.label.developer.legacyStatus">LEGACY導線</div>
                <div class="panel-body">
                  <div class="row row-top">
                    <button id="repo-map-load-legacy" type="button" data-dict-key="ui.label.developer.loadLegacyStatus">LEGACY導線を再読込</button>
                  </div>
                  <div class="table-wrap">
                    <table class="table table-compact snapshot-health-table">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.developer.legacy.path">旧URL</th>
                          <th data-dict-key="ui.label.developer.legacy.mode">動作</th>
                          <th data-dict-key="ui.label.developer.legacy.target">推奨遷移</th>
                        </tr>
                      </thead>
                      <tbody id="repo-map-legacy-status-rows"></tbody>
                    </table>
                  </div>
                  <div id="repo-map-legacy-status-note" class="cell-muted">-</div>
                </div>
              </div>
            </div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <button id="repo-map-open-settings" type="button" data-dict-key="ui.label.developer.systemState">システム状態</button>
                  <button id="repo-map-open-audit" type="button" data-dict-key="ui.label.developer.audit">監査ログ</button>
                  <button id="repo-map-open-legacy-review" type="button" data-dict-key="ui.label.developer.openLegacyReview">/admin/review を開く</button>
                  <button id="repo-map-open-manual-redac" type="button" data-dict-key="ui.label.developer.manualRedac">取説（Redac）</button>
                  <button id="repo-map-open-manual-user" type="button" data-dict-key="ui.label.developer.manualUser">取説（ユーザー）</button>
                </div>
              </div>
            </aside>
          </div>
        </section>

        <section id="pane-developer-manual-redac" class="app-pane" data-pane="developer-manual-redac" data-role="admin" data-role-allow="admin,developer">
          <div class="pane-grid">
            <div class="pane-main">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.manual.redac.title">取説（Redac向け）</div>
                <div class="panel-body">
                  <p class="note" data-dict-key="ui.desc.manual.redac.lead">現場説明で使う要点を、技術語を避けて表示します。</p>
                  <div class="manual-grid">
                    <section class="manual-card">
                      <h3 data-dict-key="ui.label.manual.redac.canDo">いま何ができるか</h3>
                      <ul id="manual-redac-can-do" class="repo-map-list"></ul>
                    </section>
                    <section class="manual-card">
                      <h3 data-dict-key="ui.label.manual.redac.safety">安全設計</h3>
                      <ul id="manual-redac-safety" class="repo-map-list"></ul>
                    </section>
                    <section class="manual-card">
                      <h3 data-dict-key="ui.label.manual.redac.flow">運用フロー</h3>
                      <ul id="manual-redac-flow" class="repo-map-list"></ul>
                    </section>
                    <section class="manual-card">
                      <h3 data-dict-key="ui.label.manual.redac.roadmap">拡張予定</h3>
                      <ul id="manual-redac-roadmap" class="repo-map-list"></ul>
                    </section>
                  </div>
                  <section class="manual-card">
                    <h3 data-dict-key="ui.label.manual.redac.faq">FAQ</h3>
                    <table class="table table-compact">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.manual.faq.q">質問</th>
                          <th data-dict-key="ui.label.manual.faq.a">回答</th>
                        </tr>
                      </thead>
                      <tbody id="manual-redac-faq-rows"></tbody>
                    </table>
                  </section>
                </div>
              </div>
            </div>
            <div class="pane-detail">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.manual.evidence">根拠ファイル</div>
                <div class="panel-body">
                  <ul id="manual-redac-evidence" class="repo-map-list mono-list"></ul>
                </div>
              </div>
            </div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <button id="manual-redac-open-map" type="button" data-dict-key="ui.label.developer.repoMap">Repo Map（全体像）</button>
                  <button id="manual-redac-open-user" type="button" data-dict-key="ui.label.developer.manualUser">取説（ユーザー）</button>
                </div>
              </div>
            </aside>
          </div>
        </section>

        <section id="pane-developer-manual-user" class="app-pane" data-pane="developer-manual-user" data-role="admin" data-role-allow="admin,developer">
          <div class="pane-grid">
            <div class="pane-main">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.manual.user.title">取説（ユーザー向け）</div>
                <div class="panel-body">
                  <p class="note" data-dict-key="ui.desc.manual.user.lead">サービス説明と個人情報保護の要点を表示します。</p>
                  <div class="manual-grid">
                    <section class="manual-card">
                      <h3 data-dict-key="ui.label.manual.user.overview">サービスでできること</h3>
                      <ul id="manual-user-overview" class="repo-map-list"></ul>
                    </section>
                    <section class="manual-card">
                      <h3 data-dict-key="ui.label.manual.user.privacy">個人情報保護</h3>
                      <ul id="manual-user-privacy" class="repo-map-list"></ul>
                    </section>
                    <section class="manual-card">
                      <h3 data-dict-key="ui.label.manual.user.consultation">相談方法</h3>
                      <ul id="manual-user-consultation" class="repo-map-list"></ul>
                    </section>
                  </div>
                </div>
              </div>
            </div>
            <div class="pane-detail">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.manual.evidence">根拠ファイル</div>
                <div class="panel-body">
                  <ul id="manual-user-evidence" class="repo-map-list mono-list"></ul>
                </div>
              </div>
            </div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <button id="manual-user-open-map" type="button" data-dict-key="ui.label.developer.repoMap">Repo Map（全体像）</button>
                  <button id="manual-user-open-redac" type="button" data-dict-key="ui.label.developer.manualRedac">取説（Redac）</button>
                </div>
              </div>
            </aside>
          </div>
        </section>

        <section id="pane-llm" class="app-pane" data-pane="llm" data-role="admin" data-role-allow="admin,developer">
          <div class="pane-grid">
            <div class="pane-main">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.llm.validation">LLM検証</div>
                <div class="panel-body">
                  <div class="input-grid">
                    <div>
                      <label data-dict-key="ui.label.llm.lineUserId" data-dict-tip="ui.help.llm.lineUserId">LINEユーザーID</label>
                      <input id="llm-line-user-id" data-dict-placeholder="ui.desc.llm.lineUserIdPlaceholder" placeholder="" />
                    </div>
                    <div>
                      <label data-dict-key="ui.label.llm.question" data-dict-tip="ui.help.llm.question">FAQ質問</label>
                      <input id="llm-faq-question" data-dict-placeholder="ui.desc.llm.questionPlaceholder" placeholder="" />
                    </div>
                  </div>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.llm.results">結果</div>
                <div class="panel-body">
                  <details class="section" open>
                    <summary data-dict-key="ui.label.llm.opsExplain">Ops説明</summary>
                    <pre id="llm-ops-explain-result">-</pre>
                  </details>
                  <details class="section">
                    <summary data-dict-key="ui.label.llm.nextActions">次アクション候補</summary>
                    <pre id="llm-next-actions-result">-</pre>
                  </details>
                  <details class="section">
                    <summary data-dict-key="ui.label.llm.faqAnswer">FAQ回答</summary>
                    <pre id="llm-faq-result">-</pre>
                    <div id="llm-faq-block" class="llm-block-panel is-hidden">
                      <div class="llm-block-title" data-dict-key="ui.label.llm.block.title">回答を停止しました</div>
                      <div class="llm-block-row">
                        <span class="llm-block-label" data-dict-key="ui.label.llm.block.reason">停止理由</span>
                        <span id="llm-faq-block-reason" class="llm-block-value">-</span>
                      </div>
                      <div class="llm-block-row">
                        <span class="llm-block-label" data-dict-key="ui.label.llm.block.actions">代替アクション</span>
                        <ul id="llm-faq-block-actions" class="llm-block-list"></ul>
                      </div>
                      <div class="llm-block-row">
                        <span class="llm-block-label" data-dict-key="ui.label.llm.block.suggested">候補FAQ</span>
                        <ul id="llm-faq-block-suggested" class="llm-block-list"></ul>
                      </div>
                    </div>
                  </details>
                </div>
              </div>
            </div>
            <div class="pane-detail">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.llm.policy">運用ポリシー</div>
                <div class="panel-body">
                  <p data-dict-key="ui.desc.llm.policy">提案のみ。自動実行は行いません。最終判断は運用担当が実施します。</p>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.llm.config">LLM設定</div>
                <div class="panel-body">
                  <label data-dict-key="ui.label.llm.config.enabled" data-dict-tip="ui.help.llm.config.enabled">LLM提案機能</label>
                  <select id="llm-config-enabled">
                    <option value="true" data-dict-key="ui.value.llm.enabled">有効</option>
                    <option value="false" data-dict-key="ui.value.llm.disabled">停止</option>
                  </select>
                  <div class="row row-top">
                    <button id="llm-config-reload" type="button" data-dict-key="ui.label.llm.config.reload">状態更新</button>
                    <button id="llm-config-plan" type="button" data-dict-key="ui.label.llm.config.plan">計画</button>
                    <button id="llm-config-set" type="button" data-dict-key="ui.label.llm.config.set">適用</button>
                  </div>
                  <details class="section">
                    <summary data-dict-key="ui.label.llm.config.status">状態</summary>
                    <pre id="llm-config-status">-</pre>
                  </details>
                  <details class="section">
                    <summary data-dict-key="ui.label.llm.config.planResult">計画結果</summary>
                    <pre id="llm-config-plan-result">-</pre>
                  </details>
                  <details class="section">
                    <summary data-dict-key="ui.label.llm.config.setResult">適用結果</summary>
                    <pre id="llm-config-set-result">-</pre>
                  </details>
                  <hr />
                  <label>LLMポリシー有効</label>
                  <select id="llm-policy-enabled">
                    <option value="true">true</option>
                    <option value="false">false</option>
                  </select>
                  <div class="input-grid">
                    <div>
                      <label>model</label>
                      <input id="llm-policy-model" value="gpt-4o-mini" />
                    </div>
                    <div>
                      <label>temperature</label>
                      <input id="llm-policy-temperature" type="number" step="0.1" min="0" max="2" value="0.2" />
                    </div>
                    <div>
                      <label>top_p</label>
                      <input id="llm-policy-top-p" type="number" step="0.1" min="0" max="1" value="1" />
                    </div>
                    <div>
                      <label>max_tokens (alias: max_output_tokens)</label>
                      <input id="llm-policy-max-output-tokens" type="number" step="1" min="32" max="4096" value="600" />
                    </div>
                    <div>
                      <label>per_user_limit (alias: per_user_daily_limit)</label>
                      <input id="llm-policy-per-user-daily-limit" type="number" step="1" min="0" max="2000" value="20" />
                    </div>
                    <div>
                      <label>per_user_daily_token_budget (alias: per_user_token_budget)</label>
                      <input id="llm-policy-per-user-token-budget" type="number" step="1" min="0" max="500000" value="12000" />
                    </div>
                    <div>
                      <label>rate_limit (alias: global_qps_limit)</label>
                      <input id="llm-policy-global-qps-limit" type="number" step="1" min="0" max="1000" value="5" />
                    </div>
                    <div>
                      <label>cache_ttl_sec</label>
                      <input id="llm-policy-cache-ttl-sec" type="number" step="1" min="0" max="86400" value="120" />
                    </div>
                    <div>
                      <label>allowed_intents_free(csv)</label>
                      <input id="llm-policy-allowed-intents-free" value="faq_search" />
                    </div>
                    <div>
                      <label>allowed_intents_pro(csv)</label>
                      <input id="llm-policy-allowed-intents-pro" value="situation_analysis,gap_check,timeline_build,next_action_generation,risk_alert,faq_search" />
                    </div>
                    <div>
                      <label>safety_mode</label>
                      <select id="llm-policy-safety-mode">
                        <option value="strict">strict</option>
                        <option value="balanced">balanced</option>
                        <option value="relaxed">relaxed</option>
                      </select>
                    </div>
                    <div>
                      <label>effectiveEnabled</label>
                      <div id="llm-policy-effective-enabled">-</div>
                    </div>
                  </div>
                  <div class="row row-top">
                    <button id="llm-policy-reload" type="button">ポリシー状態</button>
                    <button id="llm-policy-plan" type="button">ポリシー計画</button>
                    <button id="llm-policy-set" type="button">ポリシー適用</button>
                    <button id="llm-policy-history" type="button">ポリシー履歴</button>
                  </div>
                  <details class="section">
                    <summary>ポリシー状態</summary>
                    <pre id="llm-policy-status">-</pre>
                  </details>
                  <details class="section">
                    <summary>ポリシー計画結果</summary>
                    <pre id="llm-policy-plan-result">-</pre>
                  </details>
                  <details class="section">
                    <summary>ポリシー適用結果</summary>
                    <pre id="llm-policy-set-result">-</pre>
                  </details>
                  <div class="note">ポリシー変更履歴</div>
                  <pre id="llm-policy-history-result">-</pre>
                  <hr />
                  <div class="row row-top">
                    <label for="llm-usage-window-days">usage window(days)</label>
                    <input id="llm-usage-window-days" type="number" min="1" max="90" value="7" class="input-sm" />
                    <button id="llm-usage-summary-reload" type="button">LLM usage集計</button>
                    <button id="llm-usage-export" type="button">LLM usage Export CSV</button>
                  </div>
                  <pre id="llm-usage-summary-result">-</pre>
                </div>
              </div>
            </div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <div class="note" data-dict-key="ui.desc.llm.actions">追跡IDを付けて実行し、結果を証跡として確認します。</div>
                  <div class="note">
                    <span data-dict-key="ui.label.traceId" data-dict-tip="ui.help.traceId">追跡ID</span>:
                    <input type="text" id="llm-trace" class="input-inline input-trace" />
                    <button id="llm-regen" type="button" data-dict-key="ui.label.trace.regen">再生成</button>
                    <span id="llm-trace-note"></span>
                  </div>
                  <div class="row row-top">
                    <button id="llm-run-ops-explain" type="button" data-dict-key="ui.label.llm.runOpsExplain">Ops説明を取得</button>
                    <button id="llm-run-next-actions" type="button" data-dict-key="ui.label.llm.runNextActions">次候補を取得</button>
                  </div>
                  <div class="row row-top">
                    <button id="llm-run-faq" type="button" data-dict-key="ui.label.llm.runFaq">FAQ回答を生成</button>
                  </div>
                  <div class="row row-top">
                    <button id="llm-open-audit" type="button" data-dict-key="ui.label.llm.openAudit">証跡を開く</button>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        </section>

        <section id="pane-settings" class="app-pane" data-pane="settings">
          <div class="pane-grid">
            <div class="pane-main">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.settings.notice">設定は管理者で操作</div>
                <div class="panel-body">
                  <p data-dict-key="ui.desc.settings.notice">設定・回復は /admin/master に集約されています。</p>
                </div>
              </div>
            </div>
            <div class="pane-detail"></div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <a class="btn" href="/admin/master" data-dict-key="ui.label.settings.toMaster">設定画面へ</a>
                </div>
              </div>
            </aside>
          </div>
        </section>

        <section id="pane-maintenance" class="app-pane" data-pane="maintenance" data-role="admin" data-role-allow="admin,developer">
          <div class="pane-grid">
            <div class="pane-main">
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.maintenance.notice">保守操作はMasterで実行</div>
                <div class="panel-body">
                  <p data-dict-key="ui.desc.maintenance.notice">配信回復/補正は /admin/master に集約されています。</p>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.maintenance.snapshotHealth.title">Snapshot 健全性</div>
                <div class="panel-body">
                  <div class="row row-top">
                    <label for="maintenance-snapshot-health-limit" data-dict-key="ui.label.maintenance.snapshotHealth.limit">表示件数</label>
                    <input id="maintenance-snapshot-health-limit" type="number" min="1" max="200" value="30" />
                    <label for="maintenance-snapshot-health-stale-after" data-dict-key="ui.label.maintenance.snapshotHealth.staleAfter">stale判定（分）</label>
                    <input id="maintenance-snapshot-health-stale-after" type="number" min="1" max="1440" value="60" />
                    <label for="maintenance-snapshot-health-type" data-dict-key="ui.label.maintenance.snapshotHealth.type">snapshotType</label>
                    <input id="maintenance-snapshot-health-type" type="text" data-dict-placeholder="ui.placeholder.maintenance.snapshotHealth.type" placeholder="任意" />
                    <button id="maintenance-snapshot-health-reload" type="button" data-dict-key="ui.label.maintenance.snapshotHealth.reload">健全性更新</button>
                  </div>
                  <div class="table-wrap table-section">
                    <table class="table table-compact">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.maintenance.snapshotHealth.table.snapshotType">snapshotType</th>
                          <th data-dict-key="ui.label.maintenance.snapshotHealth.table.snapshotKey">snapshotKey</th>
                          <th data-dict-key="ui.label.maintenance.snapshotHealth.table.asOf">asOf</th>
                          <th data-dict-key="ui.label.maintenance.snapshotHealth.table.stale">stale</th>
                          <th data-dict-key="ui.label.maintenance.snapshotHealth.table.traceId">sourceTraceId</th>
                          <th data-dict-key="ui.label.maintenance.snapshotHealth.table.updatedAt">updatedAt</th>
                        </tr>
                      </thead>
                      <tbody id="maintenance-snapshot-health-rows"></tbody>
                    </table>
                  </div>
                  <p id="maintenance-snapshot-health-note" class="cell-muted retention-runs-note" data-dict-key="ui.desc.maintenance.snapshotHealth.note">行クリックで監査検索に反映します。</p>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.maintenance.retentionRuns.title">Retention 実行履歴</div>
                <div class="panel-body">
                  <div class="row row-top">
                    <label for="maintenance-retention-runs-limit" data-dict-key="ui.label.maintenance.retentionRuns.limit">表示件数</label>
                    <input id="maintenance-retention-runs-limit" type="number" min="1" max="200" value="30" />
                    <label for="maintenance-retention-runs-trace" data-dict-key="ui.label.maintenance.retentionRuns.traceFilter">traceId</label>
                    <input id="maintenance-retention-runs-trace" type="text" data-dict-placeholder="ui.placeholder.maintenance.retentionRuns.traceFilter" placeholder="任意" />
                    <button id="maintenance-retention-runs-reload" type="button" data-dict-key="ui.label.maintenance.retentionRuns.reload">実行履歴更新</button>
                  </div>
                  <div class="table-wrap table-section">
                    <table class="table table-compact">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.maintenance.retentionRuns.table.createdAt">実行時刻</th>
                          <th data-dict-key="ui.label.maintenance.retentionRuns.table.action">操作</th>
                          <th class="cell-num" data-dict-key="ui.label.maintenance.retentionRuns.table.deleted">削除件数</th>
                          <th data-dict-key="ui.label.maintenance.retentionRuns.table.collection">対象</th>
                          <th data-dict-key="ui.label.maintenance.retentionRuns.table.traceId">traceId</th>
                          <th data-dict-key="ui.label.maintenance.retentionRuns.table.dryRunTraceId">dryRunTraceId</th>
                        </tr>
                      </thead>
                      <tbody id="maintenance-retention-runs-rows"></tbody>
                    </table>
                  </div>
                  <p id="maintenance-retention-runs-note" class="cell-muted retention-runs-note" data-dict-key="ui.desc.maintenance.retentionRuns.note">行クリックで監査検索に反映します。</p>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.maintenance.fallbackSummary.title">Read-path fallback サマリー</div>
                <div class="panel-body">
                  <div class="row row-top">
                    <label for="maintenance-fallback-summary-limit" data-dict-key="ui.label.maintenance.fallbackSummary.limit">表示件数</label>
                    <input id="maintenance-fallback-summary-limit" type="number" min="1" max="200" value="20" />
                    <label for="maintenance-fallback-summary-window" data-dict-key="ui.label.maintenance.fallbackSummary.window">集計時間（時間）</label>
                    <input id="maintenance-fallback-summary-window" type="number" min="1" max="720" value="24" />
                    <button id="maintenance-fallback-summary-reload" type="button" data-dict-key="ui.label.maintenance.fallbackSummary.reload">サマリー更新</button>
                  </div>
                  <div class="table-wrap table-section">
                    <table class="table table-compact">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.maintenance.fallbackSummary.table.endpoint">endpoint</th>
                          <th data-dict-key="ui.label.maintenance.fallbackSummary.table.action">action</th>
                          <th class="cell-num" data-dict-key="ui.label.maintenance.fallbackSummary.table.count">件数</th>
                          <th class="cell-num" data-dict-key="ui.label.maintenance.fallbackSummary.table.used">fallbackUsed</th>
                          <th class="cell-num" data-dict-key="ui.label.maintenance.fallbackSummary.table.blocked">fallbackBlocked</th>
                          <th data-dict-key="ui.label.maintenance.fallbackSummary.table.latestAt">latestAt</th>
                          <th data-dict-key="ui.label.maintenance.fallbackSummary.table.latestTrace">latestTraceId</th>
                        </tr>
                      </thead>
                      <tbody id="maintenance-fallback-summary-rows"></tbody>
                    </table>
                  </div>
                  <p id="maintenance-fallback-summary-note" class="cell-muted retention-runs-note" data-dict-key="ui.desc.maintenance.fallbackSummary.note">行クリックで監査検索に反映します。</p>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.maintenance.missingIndexSurface.title">Missing-index fallback surface</div>
                <div class="panel-body">
                  <div class="row row-top">
                    <label for="maintenance-missing-index-limit" data-dict-key="ui.label.maintenance.missingIndexSurface.limit">表示件数</label>
                    <input id="maintenance-missing-index-limit" type="number" min="1" max="200" value="30" />
                    <label for="maintenance-missing-index-file-filter" data-dict-key="ui.label.maintenance.missingIndexSurface.fileFilter">file contains</label>
                    <input id="maintenance-missing-index-file-filter" type="text" data-dict-placeholder="ui.placeholder.maintenance.missingIndexSurface.fileFilter" placeholder="任意" />
                    <button id="maintenance-missing-index-reload" type="button" data-dict-key="ui.label.maintenance.missingIndexSurface.reload">surface更新</button>
                  </div>
                  <div class="table-wrap table-section">
                    <table class="table table-compact">
                      <thead>
                        <tr>
                          <th data-dict-key="ui.label.maintenance.missingIndexSurface.table.file">file</th>
                          <th data-dict-key="ui.label.maintenance.missingIndexSurface.table.call">call</th>
                          <th data-dict-key="ui.label.maintenance.missingIndexSurface.table.lines">lines</th>
                          <th class="cell-num" data-dict-key="ui.label.maintenance.missingIndexSurface.table.occurrences">occurrences</th>
                          <th data-dict-key="ui.label.maintenance.missingIndexSurface.table.policy">policy</th>
                        </tr>
                      </thead>
                      <tbody id="maintenance-missing-index-rows"></tbody>
                    </table>
                  </div>
                  <p id="maintenance-missing-index-note" class="cell-muted retention-runs-note" data-dict-key="ui.desc.maintenance.missingIndexSurface.note">stg/prod は fail-closed です。</p>
                </div>
              </div>
              <div class="panel">
                <div class="panel-title" data-dict-key="ui.label.maintenance.productReadiness.title">Product Readiness</div>
                <div class="panel-body">
                  <div class="row row-top">
                    <label for="maintenance-product-readiness-window" data-dict-key="ui.label.maintenance.productReadiness.window">fallback集計時間（時間）</label>
                    <input id="maintenance-product-readiness-window" type="number" min="1" max="720" value="24" />
                    <label for="maintenance-product-readiness-stale-after" data-dict-key="ui.label.maintenance.productReadiness.staleAfter">snapshot stale判定（分）</label>
                    <input id="maintenance-product-readiness-stale-after" type="number" min="1" max="1440" value="60" />
                    <button id="maintenance-product-readiness-reload" type="button" data-dict-key="ui.label.maintenance.productReadiness.reload">判定更新</button>
                  </div>
                  <div class="table-wrap table-section">
                    <table class="table table-compact">
                      <tbody>
                        <tr>
                          <th data-dict-key="ui.label.maintenance.productReadiness.status">status</th>
                          <td id="maintenance-product-readiness-status">NOT AVAILABLE</td>
                        </tr>
                        <tr>
                          <th data-dict-key="ui.label.maintenance.productReadiness.blockerCount">blockers</th>
                          <td id="maintenance-product-readiness-blocker-count">0</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <ul id="maintenance-product-readiness-blockers" class="repo-map-bullet-list"></ul>
                  <p id="maintenance-product-readiness-note" class="cell-muted retention-runs-note" data-dict-key="ui.desc.maintenance.productReadiness.note">GO/NO_GO は運用判断の参考値です。</p>
                </div>
              </div>
            </div>
            <div class="pane-detail"></div>
            <aside class="pane-actions">
              <div class="action-panel">
                <div class="panel-title" data-dict-key="ui.label.panel.actions">操作パネル</div>
                <div class="panel-body">
                  <a class="btn" href="/admin/master" data-dict-key="ui.label.maintenance.toMaster">回復画面へ</a>
                  <button id="maintenance-open-audit" type="button" data-dict-key="ui.label.maintenance.openAudit">監査ログを開く</button>
                </div>
              </div>
            </aside>
          </div>
        </section>
      </main>
    </div>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <script src="/admin/assets/admin_ui_core.js"></script>
    <script src="/admin/assets/admin_app.js"></script>
  </body>
</html>
