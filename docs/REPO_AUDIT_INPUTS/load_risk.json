{
  "estimated_worst_case_docs_scan": 23000,
  "fallback_risk": 22,
  "hotspots": [
    {
      "hotspot": {
        "file": "src/repos/firestore/analyticsReadRepo.js",
        "line": 77,
        "type": "listAll",
        "call": "listAllEvents",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 6,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/admin/city-pack-source-audit/run",
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary",
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/repos/firestore/analyticsReadRepo.js",
        "line": 113,
        "type": "listAll",
        "call": "listAllUsers",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 6,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/admin/city-pack-source-audit/run",
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary",
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/repos/firestore/analyticsReadRepo.js",
        "line": 134,
        "type": "listAll",
        "call": "listAllChecklists",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 6,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/admin/city-pack-source-audit/run",
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary",
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/repos/firestore/analyticsReadRepo.js",
        "line": 159,
        "type": "listAll",
        "call": "listAllUserChecklists",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 6,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/admin/city-pack-source-audit/run",
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary",
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/repos/firestore/analyticsReadRepo.js",
        "line": 206,
        "type": "listAll",
        "call": "listAllNotificationDeliveries",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 6,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/admin/city-pack-source-audit/run",
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary",
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/repos/firestore/analyticsReadRepo.js",
        "line": 266,
        "type": "listAll",
        "call": "listAllNotifications",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 6,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/admin/city-pack-source-audit/run",
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary",
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/routes/admin/monitorInsights.js",
        "line": 127,
        "type": "listAll",
        "call": "listAllNotificationDeliveries",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 1,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/admin/monitor-insights"
      ]
    },
    {
      "hotspot": {
        "file": "src/routes/admin/osDashboardKpi.js",
        "line": 187,
        "type": "listAll",
        "call": "listAllUsers",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 2,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/admin/os/dashboard/kpi",
        "/api/admin/os/errors/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/routes/admin/osDashboardKpi.js",
        "line": 195,
        "type": "listAll",
        "call": "listAllNotifications",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 2,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/admin/os/dashboard/kpi",
        "/api/admin/os/errors/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/admin/getNotificationOperationalSummary.js",
        "line": 220,
        "type": "listAll",
        "call": "listAllEvents",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 3,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/admin/getNotificationOperationalSummary.js",
        "line": 231,
        "type": "listAll",
        "call": "listAllEvents",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 3,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/admin/getUserOperationalSummary.js",
        "line": 304,
        "type": "listAll",
        "call": "listAllEvents",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 3,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/admin/getUserOperationalSummary.js",
        "line": 313,
        "type": "listAll",
        "call": "listAllNotificationDeliveries",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 3,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/admin/getUserOperationalSummary.js",
        "line": 322,
        "type": "listAll",
        "call": "listAllChecklists",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 3,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/admin/getUserOperationalSummary.js",
        "line": 330,
        "type": "listAll",
        "call": "listAllUserChecklists",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 3,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase4/admin/*",
        "/api/phase4/admin/notifications-summary",
        "/api/phase4/admin/users-summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/phase2/runAutomation.js",
        "line": 131,
        "type": "listAll",
        "call": "listAllEvents",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 1,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/admin/phase2/automation/run"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/phase2/runAutomation.js",
        "line": 144,
        "type": "listAll",
        "call": "listAllUsers",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 1,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/admin/phase2/automation/run"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/phase2/runAutomation.js",
        "line": 145,
        "type": "listAll",
        "call": "listAllChecklists",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 1,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/admin/phase2/automation/run"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/phase2/runAutomation.js",
        "line": 146,
        "type": "listAll",
        "call": "listAllUserChecklists",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 1,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/admin/phase2/automation/run"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/phase5/getUserStateSummary.js",
        "line": 309,
        "type": "listAll",
        "call": "listAllEvents",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 2,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/phase5/getUserStateSummary.js",
        "line": 327,
        "type": "listAll",
        "call": "listAllNotificationDeliveries",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 2,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/phase5/getUserStateSummary.js",
        "line": 337,
        "type": "listAll",
        "call": "listAllChecklists",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 2,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    },
    {
      "hotspot": {
        "file": "src/usecases/phase5/getUserStateSummary.js",
        "line": 344,
        "type": "listAll",
        "call": "listAllUserChecklists",
        "limit": "UNSPECIFIED"
      },
      "endpoint_count": 2,
      "limit_assumed": 1000,
      "estimated_scan": 1000,
      "endpoints": [
        "/api/phase5/state/*",
        "/api/phase5/state/summary"
      ]
    }
  ],
  "fallback_points": [
    {
      "file": "src/repos/firestore/cityPackBulletinsRepo.js",
      "line": 91,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/cityPackFeedbackRepo.js",
      "line": 108,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/cityPackMetricsDailyRepo.js",
      "line": 113,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/cityPackRequestsRepo.js",
      "line": 119,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/cityPacksRepo.js",
      "line": 295,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/cityPackTemplateLibraryRepo.js",
      "line": 93,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/cityPackUpdateProposalsRepo.js",
      "line": 90,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/decisionDriftsRepo.js",
      "line": 34,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/decisionLogsRepo.js",
      "line": 37,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/decisionLogsRepo.js",
      "line": 65,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/decisionLogsRepo.js",
      "line": 100,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/linkRegistryRepo.js",
      "line": 50,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/notificationsRepo.js",
      "line": 44,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/notificationTemplatesRepo.js",
      "line": 62,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/queryFallback.js",
      "line": 47,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/sendRetryQueueRepo.js",
      "line": 55,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/sourceEvidenceRepo.js",
      "line": 66,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/sourceEvidenceRepo.js",
      "line": 89,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/sourceRefsRepo.js",
      "line": 176,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/templatesVRepo.js",
      "line": 54,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/templatesVRepo.js",
      "line": 102,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    },
    {
      "file": "src/repos/firestore/usersRepo.js",
      "line": 104,
      "type": "missingIndexFallback",
      "call": "isMissingIndexError",
      "limit": "N/A"
    }
  ],
  "assumptions": [
    "listAll without explicit limit assumes 1000 docs",
    "endpoint mapping derived from static src/index.js handler dispatch and dependency_graph.json"
  ]
}
