{
  "notification": {
    "states": [
      "draft",
      "active",
      "sent"
    ],
    "transitions": [
      {
        "from": "*",
        "to": "draft",
        "writer": "src/routes/admin/osNotifications.js:43 + src/usecases/notifications/createNotification.js:51-85",
        "collection_write": "notifications",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "draft",
        "to": "active",
        "writer": "src/usecases/adminOs/approveNotification.js:17-23",
        "collection_write": "notifications",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "active",
        "to": "sent",
        "writer": "src/usecases/notifications/sendNotification.js:241-245",
        "collection_write": "notifications",
        "audit_log": true,
        "killSwitch_check": true
      }
    ]
  },
  "city_pack_request": {
    "states": [
      "queued",
      "collecting",
      "drafted",
      "needs_review",
      "approved",
      "active",
      "rejected",
      "failed"
    ],
    "transitions": [
      {
        "from": "*",
        "to": "queued",
        "writer": "src/usecases/cityPack/declareCityRegionFromLine.js:49-58",
        "collection_write": "city_pack_requests",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "queued",
        "to": "collecting",
        "writer": "src/usecases/cityPack/runCityPackDraftJob.js:106-111",
        "collection_write": "city_pack_requests",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "collecting",
        "to": "drafted",
        "writer": "src/usecases/cityPack/runCityPackDraftJob.js:178-205",
        "collection_write": "city_pack_requests",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "drafted",
        "to": "approved",
        "writer": "src/routes/admin/cityPackRequests.js:189-203",
        "collection_write": "city_pack_requests",
        "audit_log": true,
        "killSwitch_check": true
      },
      {
        "from": "approved",
        "to": "active",
        "writer": "src/routes/admin/cityPackRequests.js:297-310 + src/usecases/cityPack/activateCityPack.js:76-101",
        "collection_write": "city_pack_requests,city_packs",
        "audit_log": true,
        "killSwitch_check": true
      },
      {
        "from": "*",
        "to": "needs_review",
        "writer": "src/routes/admin/cityPackRequests.js:231-245",
        "collection_write": "city_pack_requests",
        "audit_log": true,
        "killSwitch_check": true
      },
      {
        "from": "*",
        "to": "rejected",
        "writer": "src/routes/admin/cityPackRequests.js:209-222",
        "collection_write": "city_pack_requests",
        "audit_log": true,
        "killSwitch_check": true
      }
    ]
  },
  "ops_decision": {
    "states": [
      "pending",
      "decided",
      "escalated",
      "resolved"
    ],
    "transitions": [
      {
        "from": "pending",
        "to": "decided",
        "writer": "src/usecases/adminOs/setOpsDecision.js:1-120",
        "collection_write": "ops_states",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "decided",
        "to": "escalated",
        "writer": "DOC_ONLY_TRANSITION",
        "collection_write": "UNRESOLVED",
        "audit_log": false,
        "killSwitch_check": false,
        "issue": "DOC_ONLY_TRANSITION"
      },
      {
        "from": "escalated",
        "to": "resolved",
        "writer": "DOC_ONLY_TRANSITION",
        "collection_write": "UNRESOLVED",
        "audit_log": false,
        "killSwitch_check": false,
        "issue": "DOC_ONLY_TRANSITION"
      }
    ]
  }
}