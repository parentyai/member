{
  "notification": {
    "states": [
      "draft",
      "active",
      "sent"
    ],
    "transitions": [
      {
        "from": "*",
        "to": "draft",
        "writer": "src/routes/admin/osNotifications.js + src/usecases/notifications/createNotification.js",
        "collection_write": "notifications",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "draft",
        "to": "active",
        "writer": "src/usecases/adminOs/approveNotification.js",
        "collection_write": "notifications",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "active",
        "to": "sent",
        "writer": "src/usecases/notifications/sendNotification.js",
        "collection_write": "notifications",
        "audit_log": true,
        "killSwitch_check": true
      }
    ]
  },
  "city_pack_request": {
    "states": [
      "queued",
      "collecting",
      "drafted",
      "needs_review",
      "approved",
      "active",
      "rejected",
      "failed"
    ],
    "transitions": [
      {
        "from": "*",
        "to": "queued",
        "writer": "src/usecases/cityPack/declareCityRegionFromLine.js",
        "collection_write": "city_pack_requests",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "approved",
        "to": "active",
        "writer": "src/routes/admin/cityPackRequests.js + src/usecases/cityPack/activateCityPack.js",
        "collection_write": "city_pack_requests,city_packs",
        "audit_log": true,
        "killSwitch_check": true
      }
    ]
  },
  "ops_decision": {
    "states": [
      "pending",
      "decided",
      "escalated",
      "resolved"
    ],
    "transitions": [
      {
        "from": "pending",
        "to": "decided",
        "writer": "src/usecases/phase25/submitOpsDecision.js",
        "collection_write": "ops_states,decision_logs",
        "audit_log": true,
        "killSwitch_check": false
      },
      {
        "from": "decided",
        "to": "resolved",
        "writer": "src/usecases/phase33/executeOpsNextAction.js",
        "collection_write": "ops_states,decision_logs",
        "audit_log": true,
        "killSwitch_check": true
      }
    ]
  },
  "emergency": {
    "states": [
      "draft",
      "approved",
      "sent",
      "rejected"
    ],
    "transitions": [
      {
        "from": "*",
        "to": "draft",
        "writer": "src/usecases/emergency/runEmergencySync.js",
        "collection_write": "emergency_bulletins,emergency_diffs,emergency_snapshots",
        "audit_log": true,
        "killSwitch_check": true
      },
      {
        "from": "draft",
        "to": "approved",
        "writer": "src/usecases/emergency/approveEmergencyBulletin.js",
        "collection_write": "emergency_bulletins",
        "audit_log": true,
        "killSwitch_check": true
      },
      {
        "from": "approved",
        "to": "sent",
        "writer": "src/usecases/emergency/approveEmergencyBulletin.js + src/usecases/notifications/sendNotification.js",
        "collection_write": "emergency_bulletins,notification_deliveries,decision_timeline",
        "audit_log": true,
        "killSwitch_check": true
      }
    ]
  }
}
