{
  "name": "member",
  "version": "0.0.0",
  "private": true,
  "dependencies": {
    "firebase-admin": "^12.0.0"
  },
  "scripts": {
    "pretest": "npm run test:docs",
    "test": "node --test tests/**/*.test.js",
    "test:admin-nav-contract": "node --test tests/phase633/*.test.js tests/phase635/*.test.js tests/phase636/*.test.js tests/phase637/*.test.js tests/phase638/*.test.js tests/phase639/*.test.js tests/phase640/*.test.js tests/phase641/*.test.js tests/phase642/*.test.js tests/phase643/*.test.js tests/phase644/*.test.js tests/phase645/*.test.js tests/phase646/*.test.js tests/phase647/*.test.js tests/phase648/*.test.js tests/phase651/*.test.js tests/phase671/*.test.js tests/phase674/*.test.js",
    "test:docs": "node tools/verify_docs.js",
    "seed:setup": "node tools/seed_templates_and_citypacks.js",
    "seed:trial": "node tools/seed_trial_setup.js",
    "seed:purge": "node tools/seed_trial_purge.js --seedRunId \"$SEED_RUN_ID\" --confirm SEED_DELETE",
    "test:trace-smoke": "node tools/run_trace_smoke.js",
    "test:ops-smoke": "node tools/run_ops_smoke.js",
    "ops:stg-e2e": "node tools/run_stg_notification_e2e_checklist.js",
    "ops:track-click-latency": "node tools/track_click_latency_probe.js",
    "audit:gate": "bash tools/audit/run_audit.sh",
    "start": "node src/index.js",
    "start:member": "SERVICE_MODE=member node src/index.js",
    "start:track": "SERVICE_MODE=track node src/index.js",
    "start:webhook": "SERVICE_MODE=webhook node src/index.js",
    "admin:preflight": "node tools/admin_local_preflight.js",
    "preflight": "node -e \"const fs=require('fs'); const pkg=require('./package.json'); if(!pkg.scripts||!pkg.scripts.start) throw new Error('missing scripts.start'); if(!fs.existsSync('src/index.js')) throw new Error('missing src/index.js'); console.log('preflight ok');\"",
    "verify:day": "node scripts/phase21_verify_day_window.js",
    "verify:phase21": "node scripts/phase21_verify_day_window.js --track-base-url \"$TRACK_BASE_URL\" --linkRegistryId \"$LINK_REGISTRY_ID\"",
    "repo-map:generate": "node scripts/generate_repo_map.js",
    "repo-map:check": "node scripts/generate_repo_map.js --check",
    "phase-path-map:generate": "node scripts/generate_phase_path_map.js",
    "phase-path-map:check": "node scripts/check_phase_path_map.js",
    "phase-path-rewrite:apply": "node scripts/apply_phase_path_rewrite.js",
    "phase-compression-baseline:generate": "node scripts/generate_phase_compression_baseline.js",
    "phase-compat-stubs:generate": "node scripts/generate_phase_compat_stubs.js",
    "docs-artifacts:generate": "node scripts/generate_docs_artifacts.js",
    "docs-artifacts:check": "node scripts/check_docs_artifacts.js",
    "catchup:drift-check": "npm run audit-core:check && npm run repo-map:check && npm run docs-artifacts:check && npm run cleanup:check && npm run retention-risk:check && npm run structure-risk:check && npm run load-risk:check && npm run missing-index-surface:check",
    "catchup:gate:pr": "npm run test:docs && npm run test:admin-nav-contract && npm run catchup:drift-check && npm run firestore-indexes:check -- --contracts-only",
    "catchup:gate:full": "npm run catchup:gate:pr && npm test && npm run test:trace-smoke && npm run test:ops-smoke",
    "cleanup:generate": "node scripts/generate_cleanup_reports.js",
    "cleanup:check": "node scripts/check_structural_cleanup.js",
    "audit-inputs:generate": "node scripts/generate_audit_inputs_manifest.js",
    "audit-inputs:check": "node scripts/generate_audit_inputs_manifest.js --check",
    "supervisor-master:generate": "node scripts/generate_supervisor_master.js",
    "supervisor-master:check": "node scripts/generate_supervisor_master.js --check",
    "retention-risk:generate": "node scripts/generate_retention_risk.js",
    "retention-risk:check": "node scripts/generate_retention_risk.js --check",
    "structure-risk:generate": "node scripts/generate_structure_risk.js",
    "structure-risk:check": "node scripts/generate_structure_risk.js --check",
    "load-risk:generate": "node scripts/generate_load_risk.js",
    "load-risk:check": "node scripts/generate_load_risk.js --check",
    "missing-index-surface:generate": "node scripts/generate_missing_index_surface.js",
    "missing-index-surface:check": "node scripts/generate_missing_index_surface.js --check",
    "firestore-indexes:check": "node scripts/check_firestore_indexes.js --check",
    "firestore-indexes:plan": "node scripts/check_firestore_indexes.js --plan",
    "audit-core:generate": "node scripts/generate_audit_core_maps.js",
    "audit-core:check": "node scripts/check_audit_core_maps.js"
  }
}
